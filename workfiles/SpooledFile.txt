








 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      1

  Command  . . . . . . . . . . . . :   CRTBNDRPG
    Issued by  . . . . . . . . . . :     VZUPKA
  Program  . . . . . . . . . . . . :   OBJ_SQL
    Library  . . . . . . . . . . . :     QGPL
  Text 'description' . . . . . . . :   *SRCMBRTXT

  Source Member  . . . . . . . . . :   OBJ_SQL
  Source File  . . . . . . . . . . :   QRPGLESRC
    Library  . . . . . . . . . . . :     VZSQLPGM
    CCSID  . . . . . . . . . . . . :     870
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   01/30/14  19:21:45

  Generation severity level  . . . :   10
  Default activation group . . . . :   *YES
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *NOEVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace program  . . . . . . . . :   *YES
  User profile . . . . . . . . . . :   *USER
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :
  Preprocessor options . . . . . . :   *NONE



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      2

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number

                          S o u r c e   L i s t i n g

     1  ******************************************************************                                       000000     000100
     2  *   OBJ_SQL                                                                                              000000     000200
     3  *   Program pro pořízení a opravy objednávek zboží od dodavatelů                                         000000     000300
     4  *   - pro databázové soubory používá vestavěné příkazy SQL                                               000000     000400
     5  *   Spouští se rovnou                                                                                    000000     000500
     6  ******************************************************************                                       000000     000600
     7 H DECEDIT('0,')                                                                                           000000     000700
     8                                                                                                           000000     000800
     9  *   Obrazovkový soubor                                                                                   000000     000900


    10 FOBJW      CF   E             WORKSTN                                                                     000000     001000
    11  *                    Seznam objednávek - hlavičky objednávek                                             000000     001100
    12 F                                     SFILE(OBJWS0:I0)                                                    000000     001200
    13  *                    Detaily objednávky                                                                  000000     001300
    14 F                                     SFILE(OBJWS1:I1)                                                    000000     001400
    15  *                    Ceny a názvy zboží                                                                  000000     001500
    16 F                                     SFILE(OBJWS2:I2)                                                    000000     001600
    17  *                    Seznam dodavatelů                                                                   000000     001700
    18 F                                     SFILE(OBJWS3:I3)                                                    000000     001800
    19                                                                                                           000000     001900
    20  *   Objednávky - hlavička - přejmenování proti souboru DODAV                                             000000     002000
    21  *                inicializace je nutná kvůli datumu                                                      000000     002100
        *--------------------------------------------------------------------------------------------*
        *                               RPG name         External name                               *
        * File name. . . . . . . . . :  OBJW             VZSQLPGM/OBJW                               *
        * Record format(s) . . . . . :  OBJWF0           OBJWF0                                      *
        *                               OBJWS0           OBJWS0                                      *
        *                               OBJWC0           OBJWC0                                      *
        *                               OBJWF1           OBJWF1                                      *
        *                               OBJWS1           OBJWS1                                      *
        *                               OBJWC1           OBJWC1                                      *
        *                               OBJWF2           OBJWF2                                      *
        *                               OBJWS2           OBJWS2                                      *
        *                               OBJWC2           OBJWC2                                      *
        *                               OBJWF3           OBJWF3                                      *
        *                               OBJWS3           OBJWS3                                      *
        *                               OBJWC3           OBJWC3                                      *
        *                               OBJWF4           OBJWF4                                      *
        *                               OBJWF5           OBJWF5                                      *
        *                               OBJWF6           OBJWF6                                      *
        *--------------------------------------------------------------------------------------------*


    22 D OBJHLA        E DS                                   INZ                                                000000     002200
    23 D   CDODHLA     E                     EXTFLD (CDOD)                                                       000000     002300
    24                                                                                                           000000     002400
    25  *   Objednávky - detail (zboží) - přejmenování proti souborům DODAV, OBJHLA, CENYD                       000000     002500
        *--------------------------------------------------------------------------------------------*                     1
        * Data structure . . . . . . :  OBJHLA                                                       *                     1
        * External format  . . . . . :  OBJHLA : VZSQL/OBJHLA                                        *                     1
        * Format text  . . . . . . . :  FORMAT0001                                                   *                     1
        *--------------------------------------------------------------------------------------------*                     1



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      3

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    26=D COBJ                           6A                                                                                 1000001
    27=D CDODHLA                        6A   EXTFLD (CDOD)                                                                 1000002
    28=D DTOBJ                         10D   DATFMT (*ISO-)                                                                1000003
    29 D OBJDET        E DS                  extname(OBJDET)                                                     000000     002600
    30 D   CDODDET     E                     extfld (CDOD)                                                       140130     002700
    31 D   COBJDET     E                     extfld (COBJ)                                                       000000     002800
    32 D   CZBOZIDET   E                     extfld (CZBOZID)                                                    000000     002900
    33                                                                                                           000000     003000
    34  *   Ceny objednávaného zboží - přejmenování proti souboru DODAV                                          000000     003100
        *--------------------------------------------------------------------------------------------*                     2
        * Data structure . . . . . . :  OBJDET                                                       *                     2
        * External format  . . . . . :  OBJDET : VZSQL/OBJDET                                        *                     2
        * Format text  . . . . . . . :  FORMAT0001                                                   *                     2
        *--------------------------------------------------------------------------------------------*                     2
    35=D COBJDET                        6A   EXTFLD (COBJ)                                                                 2000001
    36=D CDODDET                        6A   EXTFLD (CDOD)                                                                 2000002
    37=D CZBOZIDET                      5A   EXTFLD (CZBOZID)                                                              2000003
    38=D MNOBJ                          9P 0                                                                               2000004
    39 D CENYD         E DS                  extname(CENYD)                                                      000000     003200
    40 D   CDODCEN     E                     extfld (CDOD)                                                       000000     003300
    41                                                                                                           000000     003400
    42  *   Dodavatelé                                                                                           000000     003500
        *--------------------------------------------------------------------------------------------*                     3
        * Data structure . . . . . . :  CENYD                                                        *                     3
        * External format  . . . . . :  CENYD : VZSQL/CENYD                                          *                     3
        * Format text  . . . . . . . :  FORMAT0001                                                   *                     3
        *--------------------------------------------------------------------------------------------*                     3
    43=D CDODCEN                        6A   EXTFLD (CDOD)                                                                 3000001
    44=D CZBOZID                        5A                                                                                 3000002
    45=D CENAJ                          9P 2                                                                               3000003
    46=D NAZZBO                        30A                                                                                 3000004
    47 D DODAV         E DS                  extname(DODAV)                                                      000000     003600
    48                                                                                                           000000     003700
    49  *   Pořadové číslo právě zpracovávaného záznamu v podsouborech                                           000000     003800
        *--------------------------------------------------------------------------------------------*                     4
        * Data structure . . . . . . :  DODAV                                                        *                     4
        * External format  . . . . . :  DODAV : VZSQL/DODAV                                          *                     4
        * Format text  . . . . . . . :  FORMAT0001                                                   *                     4
        *--------------------------------------------------------------------------------------------*                     4
    50=D CDOD                           6A                                                                                 4000001
    51=D NAZDOD                        30A                                                                                 4000002
    52=D ADRDOD                        20A                                                                                 4000003
    53 D I0              S             10I 0                                      hlavičky                       000000     003900
    54 D I1              S             10I 0                                      detaily                        000000     004000
    55 D I2              S             10I 0                                      ceny                           000000     004100
    56 D I3              S             10I 0                                      dodavatelé                     000000     004200
    57  *   Počet záznamů v jednotlivých podsouborech                                                            000000     004300
    58 D Pocet0          S             10I 0                                                                     000000     004400
    59 D Pocet1          S             10I 0                                                                     000000     004500
    60 D Pocet2          S             10I 0                                                                     000000     004600
    61 D Pocet3          S             10I 0                                                                     000000     004700
    62                                                                                                           000000     004800
    63  *   Úložné proměnné                                                                                      000000     004900
    64 D CZBOZ2          S                   Like(CZBOZID)                                                       000000     005000
    65 D MNOBJ2          S                   Like(MNOBJ)                                                         000000     005100
    66 D CDOD2           S                   Like(CDOD)                                                          000000     005200



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      4

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    67                                                                                                           000000     005300
    68  *   Index pro cyklus                                                                                     000000     005400
    69 D Idx             S              4  0                                                                     000000     005500
    70                                                                                                           000000     005600
    71  *   Dnešní datum                                                                                         000000     005700
    72 D Dnes            S               D   DatFmt(*ISO)                                                        000000     005800
    73                                                                                                           000000     005900
    74 D DodavZmenen     S               N                                                                       000000     006000
    75 D MnozZmeneno     S               N                                                                       000000     006100
    76                                                                                                           000000     006200
    77  *   Maximální počet záznamů v podsouboru obecně                                                          000000     006300
    78 D MAXIMUM_SF      C                   9998                                                                000000     006400
    79                                                                                                           000000     006500
    80  *   Velikost stránky a podsouboru 2 (zboží) - konst.                                                     000000     006600
    81 D Pag2            S             10I 0 INZ(7)                                                              000000     006700
    82                                                                                                           000000     006800
    83  *   Velikost stránky a podsouboru 3 (dodavatelé) - konst.                                                000000     006900
    84 D Pag3            S             10I 0 inz(7)                                                              000000     007000
    85                                                                                                           000000     007100
    86  *   Čísla obrazovkových stránek                                                                          000000     007200
    87 D PosledniStr     S             10I 0                                                                     000000     007300
    88 D SoucasnaStr     S             10I 0                                                                     000000     007400
    89                                                                                                           000000     007500
    90  *=================================================================                                       000000     007600
    91  *   H L A V N Í   P R O G R A M                                                                          000000     007700
    92  *=================================================================                                       000000     007800
    93                                                                                                           000000     007900
    94  /free                                                                                                    000000     008000
    95                                                                                                           000000     008100
    96    // Řazení znaků podle českých pravidel (pro názvy zboží a dodavatelů)                                  000000     008200


    97=IOBJWF0                                                                                                             5000001
        *--------------------------------------------------------------------------------------------*                     5
        * RPG record format  . . . . :  OBJWF0                                                       *                     5
        * External format  . . . . . :  OBJWF0 : VZSQLPGM/OBJW                                       *                     5
        *--------------------------------------------------------------------------------------------*                     5
    98=I                             N    1    1  *IN03                           Konec                                    5000002
    99=I                             N    2    2  *IN12                           Návrat                                   5000003
   100=IOBJWS0                                                                                                             6000001
        *--------------------------------------------------------------------------------------------*                     6
        * RPG record format  . . . . :  OBJWS0                                                       *                     6
        * External format  . . . . . :  OBJWS0 : VZSQLPGM/OBJW                                       *                     6
        *--------------------------------------------------------------------------------------------*                     6
   101=I                             N    1    1  *IN03                           Konec                                    6000002
   102=I                             N    2    2  *IN12                           Návrat                                   6000003
   103=I                             A    3    8  CDOD                            Číslo dodavatele                         6000004
   104=I                             A    9   14  COBJ                            Číslo objednávky                         6000005
   105=I                        *ISO-D   15   24  DTOBJ                           Datum objednávky                         6000006
   106=I                             A   25   54  NAZDOD                          Název dodavatele                         6000007
   107=IOBJWC0                                                                                                             7000001
        *--------------------------------------------------------------------------------------------*                     7
        * RPG record format  . . . . :  OBJWC0                                                       *                     7
        * External format  . . . . . :  OBJWC0 : VZSQLPGM/OBJW                                       *                     7
        *--------------------------------------------------------------------------------------------*                     7
   108=I                             N    1    1  *IN03                           Konec                                    7000002



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      5

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   109=I                             N    3    3  *IN06                           Nová objednávka                          7000003
   110=I                             N    2    2  *IN12                           Návrat                                   7000004
   111=I                             N    4    4  *IN23                           Zrušit objedn.                           7000005
   112=I                             N    6    6  *IN60                           Transakce se nedokončila                 7000006
   113=I                             N    5    5  *IN80                           Ukažte na řádek!                         7000007
   114=I                             S    7   11 0SFKUR0                                                                   7000008
   115=I                             S   12   15 0KUR0                                                                     7000009
   116=IOBJWF1                                                                                                             8000001
        *--------------------------------------------------------------------------------------------*                     8
        * RPG record format  . . . . :  OBJWF1                                                       *                     8
        * External format  . . . . . :  OBJWF1 : VZSQLPGM/OBJW                                       *                     8
        *--------------------------------------------------------------------------------------------*                     8
   117=I                             N    1    1  *IN03                           Konec                                    8000002
   118=I                             N    2    2  *IN12                           Návrat                                   8000003
   119=IOBJWS1                                                                                                             9000001
        *--------------------------------------------------------------------------------------------*                     9
        * RPG record format  . . . . :  OBJWS1                                                       *                     9
        * External format  . . . . . :  OBJWS1 : VZSQLPGM/OBJW                                       *                     9
        *--------------------------------------------------------------------------------------------*                     9
   120=I                             N    1    1  *IN03                           Konec                                    9000002
   121=I                             N    2    2  *IN12                           Návrat                                   9000003
   122=I                             A    3    8  COBJ                            Číslo objed.                             9000004
   123=I                             A    9   14  CDOD                            Číslo dodav.                             9000005
   124=I                             A   15   19  CZBOZID                         Čislo zboží. dodav.                      9000006
   125=I                             S   20   28 0MNOBJ                           Množství objed.                          9000007
   126=I                             A   29   58  NAZZBO                          Název zboži                              9000008
   127=IOBJWC1                                                                                                            10000001
        *--------------------------------------------------------------------------------------------*                    10
        * RPG record format  . . . . :  OBJWC1                                                       *                    10
        * External format  . . . . . :  OBJWC1 : VZSQLPGM/OBJW                                       *                    10
        *--------------------------------------------------------------------------------------------*                    10
   128=I                             N    1    1  *IN03                           Konec                                   10000002
   129=I                             N    3    3  *IN05                           Obnova                                  10000003
   130=I                             N    4    4  *IN06                           Nový detail                             10000004
   131=I                             N    2    2  *IN12                           Návrat                                  10000005
   132=I                             N    5    5  *IN23                           Zrušit detail                           10000006
   133=I                             S    6   10 0SFKUR1                                                                  10000007
   134=IOBJWF2                                                                                                            11000001
        *--------------------------------------------------------------------------------------------*                    11
        * RPG record format  . . . . :  OBJWF2                                                       *                    11
        * External format  . . . . . :  OBJWF2 : VZSQLPGM/OBJW                                       *                    11
        *--------------------------------------------------------------------------------------------*                    11
   135=I                             N    1    1  *IN03                           Konec                                   11000002
   136=I                             N    2    2  *IN12                           Návrat                                  11000003
   137=IOBJWS2                                                                                                            12000001
        *--------------------------------------------------------------------------------------------*                    12
        * RPG record format  . . . . :  OBJWS2                                                       *                    12
        * External format  . . . . . :  OBJWS2 : VZSQLPGM/OBJW                                       *                    12
        *--------------------------------------------------------------------------------------------*                    12
   138=I                             N    1    1  *IN03                           Konec                                   12000002
   139=I                             N    2    2  *IN12                           Návrat                                  12000003
   140=I                             A    3    7  CZBOZID                         Číslo zboží                             12000004
   141=I                             S    8   16 2CENAJ                           Cena za jednotku                        12000005
   142=I                             A   17   46  NAZZBO                          Název zboží                             12000006
   143=IOBJWC2                                                                                                            13000001
        *--------------------------------------------------------------------------------------------*                    13



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      6

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        * RPG record format  . . . . :  OBJWC2                                                       *                    13
        * External format  . . . . . :  OBJWC2 : VZSQLPGM/OBJW                                       *                    13
        *--------------------------------------------------------------------------------------------*                    13
   144=I                             N    1    1  *IN03                           Konec                                   13000002
   145=I                             N    2    2  *IN12                           Návrat                                  13000003
   146=I                             N    3    3  *IN25                           Page up                                 13000004
   147=I                             N    4    4  *IN26                           Page down                               13000005
   148=I                             S    5    9 0SFKUR2                                                                  13000006
   149=I                             A   10   39  ZNAZZB                          Název zboži                             13000007
   150=IOBJWF3                                                                                                            14000001
        *--------------------------------------------------------------------------------------------*                    14
        * RPG record format  . . . . :  OBJWF3                                                       *                    14
        * External format  . . . . . :  OBJWF3 : VZSQLPGM/OBJW                                       *                    14
        *--------------------------------------------------------------------------------------------*                    14
   151=I                             N    1    1  *IN03                           Konec                                   14000002
   152=I                             N    2    2  *IN12                           Návrat                                  14000003
   153=IOBJWS3                                                                                                            15000001
        *--------------------------------------------------------------------------------------------*                    15
        * RPG record format  . . . . :  OBJWS3                                                       *                    15
        * External format  . . . . . :  OBJWS3 : VZSQLPGM/OBJW                                       *                    15
        *--------------------------------------------------------------------------------------------*                    15
   154=I                             N    1    1  *IN03                           Konec                                   15000002
   155=I                             N    2    2  *IN12                           Návrat                                  15000003
   156=I                             A    3    8  CDOD                            Číslo dodavatele                        15000004
   157=I                             A    9   38  NAZDOD                          Název dodavatele                        15000005
   158=I                             A   39   58  ADRDOD                          Adresa dodavatele                       15000006
   159=IOBJWC3                                                                                                            16000001
        *--------------------------------------------------------------------------------------------*                    16
        * RPG record format  . . . . :  OBJWC3                                                       *                    16
        * External format  . . . . . :  OBJWC3 : VZSQLPGM/OBJW                                       *                    16
        *--------------------------------------------------------------------------------------------*                    16
   160=I                             N    1    1  *IN03                           Konec                                   16000002
   161=I                             N    2    2  *IN12                           Návrat                                  16000003
   162=I                             N    3    3  *IN25                           Page up                                 16000004
   163=I                             N    4    4  *IN26                           Page down                               16000005
   164=I                             S    5    9 0SFKUR3                                                                  16000006
   165=I                             S   10   13 0KUR3                                                                    16000007
   166=I                             A   14   43  ZNAZD                                                                   16000008
   167=IOBJWF4                                                                                                            17000001
        *--------------------------------------------------------------------------------------------*                    17
        * RPG record format  . . . . :  OBJWF4                                                       *                    17
        * External format  . . . . . :  OBJWF4 : VZSQLPGM/OBJW                                       *                    17
        *--------------------------------------------------------------------------------------------*                    17
   168=I                             N    1    1  *IN03                           Konec                                   17000002
   169=I                             N    3    3  *IN04                           Dodavatelé                              17000003
   170=I                             N    2    2  *IN12                           Návrat                                  17000004
   171=I                             N    5    5  *IN31                           Zápis z kláv.                           17000005
   172=I                             N    6    6  *IN32                           Prázdné pole                            17000006
   173=I                             N    7    7  *IN84                           Chybné číslo dodavatele                 17000007
   174=I                             N    4    4  *IN85                           Objednávka již existuje                 17000008
   175=I                             A    8   13  COBJ                            Číslo objednávky                        17000009
   176=I                             A   14   19  CDOD                            Číslo dodavatele                        17000010
   177=I                        *ISO-D   20   29  DTOBJ                           Datum objednávky                        17000011
   178=IOBJWF5                                                                                                            18000001
        *--------------------------------------------------------------------------------------------*                    18
        * RPG record format  . . . . :  OBJWF5                                                       *                    18



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      7

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        * External format  . . . . . :  OBJWF5 : VZSQLPGM/OBJW                                       *                    18
        *--------------------------------------------------------------------------------------------*                    18
   179=I                             N    1    1  *IN03                           Konec                                   18000002
   180=I                             N    3    3  *IN04                           Zboží                                   18000003
   181=I                             N    2    2  *IN12                           Návrat                                  18000004
   182=I                             N    4    4  *IN82                           Zboží je již v objednávce               18000005
   183=I                             N    5    5  *IN83                           Zboží není v ceníku                     18000006
   184=I                             A    6   10  CZBOZID                         Číslo zboží                             18000007
   185=I                             S   11   19 0MNOBJ                           Objednávané množství                    18000008
   186=IOBJWF6                                                                                                            19000001
        *--------------------------------------------------------------------------------------------*                    19
        * RPG record format  . . . . :  OBJWF6                                                       *                    19
        * External format  . . . . . :  OBJWF6 : VZSQLPGM/OBJW                                       *                    19
        *--------------------------------------------------------------------------------------------*                    19
   187=I                             N    1    1  *IN03                           Konec                                   19000002
   188=I                             N    2    2  *IN12                           Návrat                                  19000003


   189    Exec SQL set option  LANGID = CSY, SRTSEQ = *LANGIDSHR,                                                000000     008300
======>        aaa
*RNF5347 30 a      008300  An assignment operator is expected with the EVAL operation.
   190    // Určit typ pro datum: ISO                                                                            000000     008400
   191                        DATFMT = *ISO,                                                                     000000     008500
   192    // Zrušit sledování transakcí (aby byl umožněn UPDATE bez žurnálování)                                 000000     008600
   193                        COMMIT = *NONE ;                                                                   000000     008700
   194                                                                                                           000000     008800
   195    Dnes = %Date();  // dnešní datum                                                                       000000     008900
   196    KUR0 = 1;  //Nastavit kurzor pro seznam objednávek (podsoubor 0)                                       000000     009000
   197                                                                                                           000000     009100
   198    // Cyklus 1 -Zpracování objednávek                                                                     000000     009200
   199    DoW       0 = 0;                                                                             B01       000000     009300
   200       ExSr      PlnitSF0;  // Plnit podsoubor 0 seznamem objednávek                              01       000000     009400
   201                                                                                                           000000     009500
   202       // Cyklus 2 - Zpracovat seznam objednávek                                                           000000     009600
   203       DoU       0 = 0;                                                                          B02       000000     009700
   204          Write  OBJWF0; // Zapsat návod na funkční klávesy na obrazovku bez čekání na vstup      02       000000     009800
   205          ExFmt  OBJWC0; // Zapsat a číst podsoubor 0 (seznam objednávek) na obrazovce            02       000000     009900
   206                                                                                                           000000     010000
   207          If  *In03 Or *In12; // F3 nebo F12 - Končit program                                    B03       000000     010100
   208             *InLR = *On;                                                                         03       000000     010200
   209             Return;                                                                              03       000000     010300
   210          EndIf;                                                                                 E03       000000     010400
   211                                                                                                           000000     010500
   212          If  *In06; // F6 - Založit novou objednávku (pak pokračujeme jako u Enter)             B03       000000     010600
   213             ExSr  NovaHlaObj; // Nová hlavička objednávky                                        03       000000     010700
   214             If *In12;          // F12 - Návrat na zobrazení seznamu objednávek bez zápisu       B04       000000     010800
   215                ExSr  PlnitSF0; //       do databáze                                              04       000000     010900
   216                Iter;                                                                             04       000000     011000
   217             Endif;                                                                              E04       000000     011100
   218             ExSr      ZprDetObj; // Zpracovat detaily nové objednávky                            03       000000     011200
   219             ExSr      ZprHlaObj; // Opakovat zpracování hlavičky objednávky                      03       000000     011300
   220                                  //     (po F12 v podprogramu ZprDetObj)                                  000000     011400
   221             ExSr      PlnitSF0; // Opakovat zobrazení seznamu objednávek                         03       000000     011500
   222             Iter;                                                                                03       000000     011600
   223          EndIf;    // konec F6                                                                  E03       000000     011700
   224                                                                                                           000000     011800



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      8

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   225          If  *In23;  // F23 - Zrušit objednávku včetně detailů                                  B03       000000     011900
   226             // Vyhledám záznam podsouboru podle pořadového čísla                                          000000     012000
   227             // (dostanu klíč - číslo objednávky)                                                          000000     012100
   228             Chain(E)  SFKUR0 OBJWS0;                                                             03       000000     012200
   229             *In80 = *Off;                                                                        03       000000     012300
   230             If  Not %Found Or %Error;    // Nenalezen/Chyba                                     B04       000000     012400
   231                *In80 = *On;                                                                      04       000000     012500
   232                Iter;                     // Opakovat cyklus 2                                    04       000000     012600
   233             EndIf ;                                                                             E04       000000     012700
   234                                                                                                           000000     012800
   235             // Zruším hlavičku, na niž ukazuje kurzor                                                     000000     012900
   236             Exec SQL delete from OBJHLA where COBJ = :COBJ;                                      03       000000     013000
======>                 aaa
*RNF5347 30 a      013000  An assignment operator is expected with the EVAL operation.
   237                                                                                                           000000     013100
   238             // Zruším odpovídající detaily, jestliže nějaké existují                                      000000     013200
   239             Exec SQL delete from OBJDET where COBJ = :COBJ;                                      03       000000     013300
======>                 aaa
*RNF5347 30 a      013300  An assignment operator is expected with the EVAL operation.
   240                                                                                                           000000     013400
   241             // Nastavím kurzor na předchozí záznam podsouboru pro příští                                  000000     013500
   242             // zobrazení. Je-li současná poloha kurzoru (SFKUR0)                                          000000     013600
   243             // větší než 1, dosadím ji zmenšenou o 1 do KUR0 pro                                          000000     013700
   244             // příští zobrazení. Jinak nechám KUR0 (rovno 1).                                             000000     013800
   245             If        SFKUR0 > 1;                                                               B04       000000     013900
   246                KUR0 = SFKUR0 - 1;                                                                04       000000     014000
   247             EndIf;                                                                              E04       000000     014100
   248                                                                                                           000000     014200
   249             // Opakovat zpracování od začátku cyklu (s plněním podsouboru)                                000000     014300
   250             ExSr      PlnitSF0;                                                                  03       000000     014400
   251             Iter;                                                                                03       000000     014500
   252          EndIf; // F23                                                                          E03       000000     014600
   253                                                                                                           000000     014700
   254          // Enter:                                                                                        000000     014800
   255                                                                                                           000000     014900
   256          // Nastavit kurzor na posledně zpracovávanou objednávku                                          000000     015000
   257          // pro příští zobrazení (podle aktuální pozice kurzoru                                           000000     015100
   258          // v podsouboru SFKUR0). Je-li chybná, nechat dosavadní.                                         000000     015200
   259          If        SFKUR0 >= 1 And SFKUR0 <= Pocet0;                                            B03       000000     015300
   260             KUR0 = SFKUR0;                                                                       03       000000     015400
   261          EndIf;                                                                                 E03       000000     015500
   262                                                                                                           000000     015600
   263          Chain(E)  SFKUR0  OBJWS0; // Vyhledat záznam podsouboru podle poř. čísla                02       000000     015700
   264          *In80 = *Off;             // (dostaneme klíč - číslo objednávky)                        02       000000     015800
   265          If  Not %Found Or %Error;                                                              B03       000000     015900
   266             *In80 = *On;    // Nenalezen/Chyba - opak. cyklus 2                                  03       000000     016000
   267             Iter;                                                                                03       000000     016100
   268          EndIf;                                                                                 E03       000000     016200
   269                                                                                                           000000     016300
   270          // Cyklus 3 - Zpracovat objednávku (hlavičku i detaily)                                          000000     016400
   271          DoW       0 = 0;                                                                       B03       000000     016500
   272             ExSr      ZprHlaObj; // Zpracování hlavičky objednávky                               03       000000     016600
   273             If        *In12; // F12 po zpracování hlavičky - Zobrazit seznam objednávek         B04       000000     016700
   274                ExSr      PlnitSF0;                                                               04       000000     016800
   275                Leave;                                                                            04       000000     016900
   276             EndIf;                                                                              E04       000000     017000



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page      9

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   277             ExSr      ZprDetObj; // Zpracovat detaily objednávky                                 03       000000     017100
   278          EndDo;  // (Cyklus 3 - konec)                                                          E03       000000     017200
   279                                                                                                           000000     017300
   280       // Znovu zpracovat seznam objednávek (bez nového plnění SF0)                                        000000     017400
   281       EndDo;  // (Cyklus 2 - konec)                                                             E02       000000     017500
   282                                                                                                           000000     017600
   283    EndDo; // (Cyklus 1 - konec)                                                                 E01       000000     017700
   284                                                                                                           000000     017800
   285   //===============================================================                                       000000     017900
   286   // P O D P R O G R A M Y                                                                                000000     018000
   287   //===============================================================                                       000000     018100
   288   //---------------------------------------------------------------                                       000000     018200
   289   // ZprHlaObj - Zpracovat hlavičku objednávky                                                            000000     018300
   290   //---------------------------------------------------------------                                       000000     018400
   291   BegSr  ZprHlaObj;                                                                                       000000     018500
   292                                                                                                           000000     018600
   293   // Cyklus - Zobrazit hlavičku objednávky                                                                000000     018700
   294   DoW  0 = 0;                                                                                   B01       000000     018800
   295      ExFmt  OBJWF4;                                                                              01       000000     018900
   296      If  *In03; // F3 - Konec programu                                                          B02       000000     019000
   297         *InLR = *On;                                                                             02       000000     019100
   298         Return;                                                                                  02       000000     019200
   299      EndIf;                                                                                     E02       000000     019300
   300                                                                                                           000000     019400
   301      // F4 - Zpracovat dodavatele a návrat k zobrazení hlavičky obj.                                      000000     019500
   302      //      Jen pro novou objednávku (F6)                                                                140130     019600
   303      If  *In04 and *In06;                                                                       B02       140130     019700
   304         // Zpracovat dodavatele (vyberu jednoho ze seznamu)                                               000000     019800
   305         ExSr  ZprDodav;                                                                          02       000000     019900
   306                                                                                                           000000     020000
   307         Iter;  // znovu zobrazit                                                                 02       000000     020100
   308      EndIf;                                                                                     E02       000000     020200
   309                                                                                                           000000     020300
   310      // F12 - Končit podprogram ZprHlaObj bez zápisu hlavičky objednávky                                  000000     020400
   311      If  *In12;                                                                                 B02       000000     020500
   312         If MnozZmeneno or DodavZmenen;                                                          B03       000000     020600
   313            DTOBJ = %date();      // změním datum objednávky                                      03       000000     020700
   314            // Přepsat hlavičku (i když se nezměnil dodavatel)                                             000000     020800
   315            Exec SQL update OBJHLA                                                                03       000000     020900
======>                aaa
*RNF5347 30 a      020900  An assignment operator is expected with the EVAL operation.
   316                     set OBJHLA.CDOD = :CDOD, OBJHLA.DTOBJ = :DTOBJ                               03       000000     021000
======>                              a                    c
======>                        bbbbbbbbbbb          dddddddddddd
*RNF0622 20 a      021000  A qualified name is not allowed in this context.
*RNF0623 20 b      021000  The simple qualified name is not specified correctly.
*RNF0622 20 c      021000  A qualified name is not allowed in this context.
*RNF0623 20 d      021000  The simple qualified name is not specified correctly.
   317                     where  COBJ = :COBJ;                                                         03       000000     021100
   318         Endif;                                                                                  E03       000000     021200
   319         Leave;                                                                                   02       000000     021300
   320      EndIf;                                                                                     E02       000000     021400
   321                                                                                                           000000     021500
   322      // Enter:                                                                                            000000     021600
   323                                                                                                           000000     021700
   324      // Prázdné č. dodavatele nebo nenalezeno - chyba                                                     000000     021800



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     10

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   325      Exec SQL select NAZDOD into :NAZDOD                                                         01       000000     021900
======>          aaa
*RNF5347 30 a      021900  An assignment operator is expected with the EVAL operation.
   326              from DODAV                                                                          01       000000     022000
   327              where CDOD = :CDOD;                                                                 01       000000     022100
   328      *In84 = *Off;                                                                               01       000000     022200
   329      If  *In32 Or sqlstate = '02000';                                                           B02       000000     022300
   330         *In84 = *On;                                                                             02       000000     022400
   331         Iter;                                                                                    02       000000     022500
   332      EndIf;                                                                                     E02       000000     022600
   333                                                                                                           000000     022700
   334      // Jinak končit podprogram                                                                           000000     022800
   335      Leave;                                                                                      01       000000     022900
   336   EndDo;                                                                                        E01       000000     023000
   337                                                                                                           000000     023100
   338   EndSr; // konec ZprHlaObj                                                                               000000     023200
   339                                                                                                           000000     023300
   340   //---------------------------------------------------------------                                       000000     023400
   341   // ZprDetObj - Zpracovat detaily objednávky                                                             000000     023500
   342   //---------------------------------------------------------------                                       000000     023600
   343                                                                                                           000000     023700
   344    BegSr ZprDetObj;                                                                                       000000     023800
   345                                                                                                           000000     023900
   346    ExSr  PlnitSF1; // Plnit podsoubor 1 - detaily objednávek                                              000000     024000
   347                                                                                                           000000     024100
   348    // Cyklus 1 - Zobrazit okno se seznamem detailů objednávek                                             000000     024200
   349    DoW  0 = 0;                                                                                  B01       000000     024300
   350       Write  OBJWF1;                                                                             01       000000     024400
   351       ExFmt  OBJWC1;                                                                             01       000000     024500
   352                                                                                                           000000     024600
   353       If  *In03; // F3 - Konec programu                                                         B02       000000     024700
   354          *InLR = *On;                                                                            02       000000     024800
   355          Return;                                                                                 02       000000     024900
   356       EndIf;                                                                                    E02       000000     025000
   357                                                                                                           000000     025100
   358       If  *In12; // F12 - Návrat z podprogramu ZprDetObj                                        B02       000000     025200
   359          Leave;                                                                                  02       000000     025300
   360       EndIf;                                                                                    E02       000000     025400
   361                                                                                                           000000     025500
   362       If  *In05; // F5 - Znovu zobrazit nově naplněný seznam detailů objednávek                 B02       000000     025600
   363          ExSr  PlnitSF1;                                                                         02       000000     025700
   364          Iter;                                                                                   02       000000     025800
   365       EndIf;                                                                                    E02       000000     025900
   366                                                                                                           000000     026000
   367       // F6 - Založit nový detail objednávky a znovu naplnit seznam                                       000000     026100
   368       //       detailů a zobrazit jej                                                                     000000     026200
   369       If  *In06;                                                                                B02       000000     026300
   370          ExSr  NovyDetObj;                                                                       02       000000     026400
   371          ExSr  PlnitSF1;                                                                         02       000000     026500
   372          Iter;                                                                                   02       000000     026600
   373       EndIf;                                                                                    E02       000000     026700
   374                                                                                                           000000     026800
   375       // F23 - Zrušit detail objednávky a znovu naplnit seznam                                            000000     026900
   376       //        (kurzor nastavit na záznam předcházející zrušenému)                                       000000     027000
   377       If  *In23;                                                                                B02       000000     027100
   378          // Vyhledat záznam podsouboru podle poř. čísla                                                   000000     027200



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     11

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   379          // (dostaneme klíč detailu objednávky)                                                           000000     027300
   380          Chain SFKUR1  OBJWS1;                                                                   02       000000     027400
   381          If  Not %Found;  // Nenalezen - chyba                                                  B03       000000     027500
   382             *In81 = *On;                                                                         03       000000     027600
   383             Iter;                                                                                03       000000     027700
   384          Else;                                                                                  X03       000000     027800
   385             *In81 = *Off;                                                                        03       000000     027900
   386          EndIf;                                                                                 E03       000000     028000
   387          // Zrušit detail objednávky, na nějž ukazuje kurzor                                              000000     028100
   388          //  (podle klíče získaného z podsouboru)                                                         000000     028200
   389          Exec SQL delete from OBJDET                                                             02       000000     028300
======>              aaa
*RNF5347 30 a      028300  An assignment operator is expected with the EVAL operation.
   390                      where COBJ = :COBJ                                                          02       140130     028400
   391                        and CDOD = :CDOD                                                          02       140130     028500
   392                        and CZBOZID = :CZBOZID;                                                   02       000000     028600
   393          // a přepsat datum objednávky v hlavičce                                                         000000     028700
   394          Dnes = %date();                                                                         02       000000     028800
   395          Exec SQL update OBJHLA set DTOBJ = :Dnes                                                02       000000     028900
======>              aaa
*RNF5347 30 a      028900  An assignment operator is expected with the EVAL operation.
   396                      where COBJ = :COBJ;                                                         02       000000     029000
   397          ExSr  PlnitSF1;                                                                         02       000000     029100
   398          Iter;                                                                                   02       000000     029200
   399       EndIf;                                                                                    E02       000000     029300
   400                                                                                                           000000     029400
   401       // Enter - Zpracovat změněné detaily, není-li podsoubor prázdný                                     000000     029500
   402       //         (aktualizovat změněné množství zboží v databázi)                                         000000     029600
   403                                                                                                           000000     029700
   404       If  Pocet1 > 0;                                                                           B02       000000     029800
   405          MnozZmeneno = *Off;   // množství zatím nezměněno                                       02       000000     029900
   406          MNOBJ2 = MNOBJ;       // uložím dosavadní množství                                      02       000000     030000
   407                                                                                                           000000     030100
   408          ReadC  OBJWS1;                                                                          02       000000     030200
   409                                                                                                           000000     030300
   410          // Cyklus 2                                                                                      000000     030400
   411          DoW  Not %EoF;                                                                         B03       000000     030500
   412             If MNOBJ <> MNOBJ2;    // změnilo se množství proti starému                         B04       000000     030600
   413                exec SQL update OBJDET  set MNOBJ = :MNOBJ                                        04       000000     030700
======>                    aaa
*RNF5347 30 a      030700  An assignment operator is expected with the EVAL operation.
   414                         where COBJ = :COBJ and CZBOZID = :CZBOZID;                               04       000000     030800
   415                MnozZmeneno = *on;  // poznačím změnu                                             04       000000     030900
   416                DTOBJ = %date();    // a dosadím dnešní datum pro objednávku                      04       000000     031000
   417             Endif;                                                                              E04       000000     031100
   418             ReadC  OBJWS1;                                                                       03       000000     031200
   419          EndDo;  // (Cyklus 2 - konec)                                                          E03       000000     031300
   420          ExSr  PlnitSF1; // Znovu naplnit podsoubor 1 - detaily objednávek                       02       000000     031400
   421                                                                                                           000000     031500
   422       EndIf;  // (Cyklus 1 - konec)                                                             E02       000000     031600
   423                                                                                                           000000     031700
   424    EndDo; // konec hlavního cyklu                                                               E01       000000     031800
   425    EndSr; // konec ZprDetObj                                                                              000000     031900
   426                                                                                                           000000     032000
   427   //---------------------------------------------------------------                                       000000     032100
   428   // NovaHlaObj - Pořídit novou hlavičku objednávky                                                       000000     032200



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     12

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   429   //---------------------------------------------------------------                                       000000     032300
   430                                                                                                           000000     032400
   431   Begsr  NovaHlaObj;                                                                                      000000     032500
   432                                                                                                           000000     032600
   433   // Vyčistit data a dosadit dnešní datum                                                                 000000     032700
   434   Clear  OBJHLA;  // vyčistit datovou strukturu hlavičky                                                  000000     032800
   435   Clear  CDOD;    //  a ještě původní pole dodavatele pro obrazovku                                       000000     032900
   436   Clear  NAZDOD;  // vyčistit název dodavatele                                                            000000     033000
   437                                                                                                           000000     033100
   438   // Cyklus - Zobrazit prázdnou hlavičku objednávky                                                       000000     033200
   439   DoW  0 = 0;                                                                                   B01       000000     033300
   440      *In33 = *On;                                                                                01       000000     033400
   441      ExFmt  OBJWF4;                                                                              01       000000     033500
   442                                                                                                           000000     033600
   443      If  *In03;  // F3 - Konec programu                                                         B02       000000     033700
   444         *InLR = *On;                                                                             02       000000     033800
   445         Return;                                                                                  02       000000     033900
   446      EndIf;                                                                                     E02       000000     034000
   447                                                                                                           000000     034100
   448      If  *In12; // F12 - Návrat                                                                 B02       000000     034200
   449         Leave;                                                                                   02       000000     034300
   450      EndIf;                                                                                     E02       000000     034400
   451                                                                                                           000000     034500
   452      // F4 - Zpracovat dodavatele a znovu zobrazit hlavičku objednávky                                    000000     034600
   453      If  *In04;                                                                                 B02       000000     034700
   454         ExSr  ZprDodav;                                                                          02       000000     034800
   455         Iter;                                                                                    02       000000     034900
   456      EndIf;                                                                                     E02       000000     035000
   457                                                                                                           000000     035100
   458      // Enter:                                                                                            000000     035200
   459                                                                                                           000000     035300
   460      // Přečíst dodavatele podle čísla z obrazovky                                                        000000     035400
   461      Exec SQL select CDOD into :CDOD                                                             01       000000     035500
======>          aaa
*RNF5347 30 a      035500  An assignment operator is expected with the EVAL operation.
   462              from DODAV                                                                          01       000000     035600
   463              where CDOD = :CDOD;                                                                 01       000000     035700
   464                                                                                                           000000     035800
   465      *In84 = *Off;                                                                               01       000000     035900
   466      If sqlstate = '02000';  // dodavatel nenalezen                                             B02       000000     036000
   467         *In84 = *On;         // indikátor chyby                                                  02       000000     036100
   468         Iter;                // znovu zobrazit okno                                              02       000000     036200
   469      EndIf;                                                                                     E02       000000     036300
   470                                                                                                           000000     036400
   471      // Zkusit, zda záznam hlavičky existuje                                                              000000     036500
   472      Exec SQL select COBJ into :COBJ from OBJHLA                                                 01       000000     036600
======>          aaa
*RNF5347 30 a      036600  An assignment operator is expected with the EVAL operation.
   473              where COBJ = :COBJ;                                                                 01       000000     036700
   474                                                                                                           000000     036800
   475      If sqlstate = '00000'; // když se našel                                                    B02       000000     036900
   476         *In85 = *on;        // indikace chyby                                                    02       000000     037000
   477         Iter;               // znovu zobrazit okno                                               02       000000     037100
   478      Endif;                                                                                     E02       000000     037200
   479      *In85 = *off;                                                                               01       000000     037300
   480                                                                                                           000000     037400



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     13

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   481      // Zapsat nový záznam do hlavičky                                                                    000000     037500
   482      DTOBJ = %date();                                                                            01       000000     037600
   483      Exec SQL insert into OBJHLA  ( COBJ, CDOD, DTOBJ )                                          01       000000     037700
======>          aaa
*RNF5347 30 a      037700  An assignment operator is expected with the EVAL operation.
   484               values ( :COBJ, :CDOD, :DTOBJ );                                                   01       000000     037800
   485      Leave;                                                                                      01       000000     037900
   486                                                                                                           000000     038000
   487   EndDo; // (Cyklus - konec)                                                                    E01       000000     038100
   488                                                                                                           000000     038200
   489   EndSr;                                                                                                  000000     038300
   490                                                                                                           000000     038400
   491   //---------------------------------------------------------------                                       000000     038500
   492   // NovyDetObj - Pořídit nový detail objednávky (zboží)                                                  000000     038600
   493   //---------------------------------------------------------------                                       000000     038700
   494                                                                                                           000000     038800
   495   BegSr  NovyDetObj;                                                                                      000000     038900
   496                                                                                                           000000     039000
   497   // Vyčistit údaje pro obrazovku                                                                         000000     039100
   498   Clear  CZBOZID;                                                                                         000000     039200
   499   Clear  MNOBJ;                                                                                           000000     039300
   500                                                                                                           000000     039400
   501   // Cyklus - Zobrazit okno pro pořízení nového detailu objednávky                                        000000     039500
   502   DoW  0 = 0;                                                                                   B01       000000     039600
   503      ExFmt  OBJWF5;                                                                              01       000000     039700
   504                                                                                                           000000     039800
   505      If  *In03; // F3 - Konec programu                                                          B02       000000     039900
   506         *InLR = *On;                                                                             02       000000     040000
   507         Return;                                                                                  02       000000     040100
   508      EndIf;                                                                                     E02       000000     040200
   509                                                                                                           000000     040300
   510      If  *In12; // F12 - Návrat                                                                 B02       000000     040400
   511         Leave;                                                                                   02       000000     040500
   512      EndIf;                                                                                     E02       000000     040600
   513                                                                                                           000000     040700
   514      If  *In04; // F4 - Zobrazit a zpracovat seznam zboží                                       B02       000000     040800
   515         ExSr  ZprCeny;  // Zobr. zboží                                                           02       000000     040900
   516         Iter;           //     a znovu detaily                                                   02       000000     041000
   517      EndIf;                                                                                     E02       000000     041100
   518                                                                                                           000000     041200
   519      // Enter:                                                                                            000000     041300
   520                                                                                                           000000     041400
   521      //  Zkusím, zda zboží je v ceníku                                                                    000000     041500
   522      Exec SQL select CDOD, CZBOZID into :CDOD, :CZBOZID                                          01       000000     041600
======>          aaa
*RNF5347 30 a      041600  An assignment operator is expected with the EVAL operation.
   523               from CENYD                                                                         01       000000     041700
   524               where CDOD    = :CDOD                                                              01       000000     041800
   525                 and CZBOZID = :CZBOZID;                                                          01       000000     041900
   526      If sqlstate = '02000';  // nenalezeno v ceníku                                             B02       000000     042000
   527         *In83 = *On;         // indikátor chyby                                                  02       000000     042100
   528         Iter;                // znovu zobrazit okno                                              02       000000     042200
   529      EndIf;                                                                                     E02       000000     042300
   530      *In83 = *Off;                                                                               01       000000     042400
   531                                                                                                           000000     042500
   532      // Zkusím, zda je zboží už v detailech                                                               000000     042600



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     14

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   533      Exec SQL select COBJ into :COBJ from OBJDET                                                 01       000000     042700
======>          aaa
*RNF5347 30 a      042700  An assignment operator is expected with the EVAL operation.
   534                 where COBJ = :COBJ and CZBOZID = :CZBOZID;                                       01       000000     042800
   535      If sqlstate = '00000';  // nalezeno v detailech                                            B02       000000     042900
   536         *In82 = *on;         // indikátor chyby                                                  02       000000     043000
   537         Iter;                // znovu zobrazit okno                                              02       000000     043100
   538      Endif;                                                                                     E02       000000     043200
   539      *In82 = *off;                                                                               01       000000     043300
   540                                                                                                           000000     043400
   541      // Zapsat zboží do detailů objednávky                                                                000000     043500
   542      Exec SQL insert into OBJDET ( COBJ, CDOD, CZBOZID, MNOBJ )                                  01       000000     043600
======>          aaa
*RNF5347 30 a      043600  An assignment operator is expected with the EVAL operation.
   543               values ( :COBJ, :CDOD, :CZBOZID, :MNOBJ );                                         01       000000     043700
   544      // a přepsat datum objednávky v hlavičce                                                             000000     043800
   545      Dnes = %date();                                                                             01       000000     043900
   546      Exec SQL update OBJHLA set DTOBJ = :Dnes                                                    01       000000     044000
======>          aaa
*RNF5347 30 a      044000  An assignment operator is expected with the EVAL operation.
   547                      where COBJ = :COBJ;                                                         01       000000     044100
   548      Leave;                                                                                      01       000000     044200
   549                                                                                                           000000     044300
   550   EndDo;  // (Cyklus - konec)                                                                   E01       000000     044400
   551                                                                                                           000000     044500
   552   EndSr;                                                                                                  000000     044600
   553                                                                                                           000000     044700
   554   //---------------------------------------------------------------                                       000000     044800
   555   // PlnitSF0 - Plnit podsoubor 0 - hlavičky objednávek                                                   000000     044900
   556   //---------------------------------------------------------------                                       000000     045000
   557                                                                                                           000000     045100
   558   BegSr  PlnitSF0;                                                                                        000000     045200
   559                                                                                                           000000     045300
   560   // Vymazat podsoubor 0 - hlavičky objednávky                                                            000000     045400
   561   *In48 = *On;                                                                                            000000     045500
   562   Write     OBJWF0;                                                                                       000000     045600
   563   Write     OBJWC0;                                                                                       000000     045700
   564   *In48 = *Off;                                                                                           000000     045800
   565   // Vynulovat čítač záznamů podsouboru                                                                   000000     045900
   566   I0 = 0;                                                                                                 000000     046000
   567                                                                                                           000000     046100
   568   // Přečíst celý soubor hlaviček se jmény dodavatelů                                                     000000     046200
   569   Exec SQL declare CS0 cursor for                                                                         000000     046300
======>       aaa
*RNF5347 30 a      046300  An assignment operator is expected with the EVAL operation.
   570            select COBJ, H.CDOD, DTOBJ, NAZDOD                                                             000000     046400
======>                         a
*RNF0622 20 a      046400  A qualified name is not allowed in this context.
   571               from OBJHLA as H                                                                            000000     046500
   572               join DODAV as D on H.CDOD = D.CDOD                                                          000000     046600
======>                                  a        b
*RNF0622 20 a      046600  A qualified name is not allowed in this context.
*RNF0622 20 b      046600  A qualified name is not allowed in this context.
   573               order by COBJ   asc                                                                         000000     046700
   574               fetch first  9998  rows only   // MAXIMUM_SF je 9998                                        000000     046800
   575               for read only;                                                                              000000     046900



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     15

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   576   Exec SQL open CS0;                                                                                      000000     047000
======>       aaa
*RNF5347 30 a      047000  An assignment operator is expected with the EVAL operation.
   577                                                                                                           000000     047100
   578   // Přečíst první záznam z databáze hlaviček objednávek                                                  000000     047200
   579   Exec SQL fetch from CS0 into :COBJ, :CDOD, :DTOBJ, :NAZDOD;                                             000000     047300
======>       aaa
*RNF5347 30 a      047300  An assignment operator is expected with the EVAL operation.
   580                                                                                                           000000     047400
   581   // Cyklus, dokud není konec databázového souboru                                                        000000     047500
   582   DoW  sqlstate < '02000' And I0 < MAXIMUM_SF;                                                  B01       000000     047600
   583                                                                                                           000000     047700
   584      I0 += 1; // Zvýšit čítač záznamů podsouboru                                                 01       000000     047800
   585                                                                                                           000000     047900
   586      Write  OBJWS0; // Zapsat záznam do podsouboru podle čítače                                  01       000000     048000
   587                                                                                                           000000     048100
   588      // Číst další záznam z databáze hlaviček objednávek                                                  000000     048200
   589      Exec SQL fetch from CS0 into :COBJ, :CDOD, :DTOBJ, :NAZDOD;                                 01       000000     048300
======>          aaa
*RNF5347 30 a      048300  An assignment operator is expected with the EVAL operation.
   590   EndDo;                                                                                        E01       000000     048400
   591   Exec SQL close CS0;                                                                                     000000     048500
======>       aaa
*RNF5347 30 a      048500  An assignment operator is expected with the EVAL operation.
   592                                                                                                           000000     048600
   593   // Pamatovat počet záznamů podsouboru. Zapnout ind. 47,                                                 000000     048700
   594   //    je-li počet větší než 0. Umožní to zobrazit stránku                                               000000     048800
   595   //    na obrazovce.                                                                                     000000     048900
   596   Pocet0 = I0;                                                                                            000000     049000
   597   If  Pocet0 > 0;                                                                               B01       000000     049100
   598      *In47 = *On;                                                                                01       000000     049200
   599   Else;                                                                                         X01       000000     049300
   600      *In47 = *Off;                                                                               01       000000     049400
   601   EndIf;                                                                                        E01       000000     049500
   602                                                                                                           000000     049600
   603   EndSr;                                                                                                  000000     049700
   604                                                                                                           000000     049800
   605   //---------------------------------------------------------------                                       000000     049900
   606   // PlnitSF1 - Plnit podsoubor 1 s detaily objednávky                                                    000000     050000
   607   //---------------------------------------------------------------                                       000000     050100
   608                                                                                                           000000     050200
   609   BegSr  PlnitSF1;                                                                                        000000     050300
   610                                                                                                           000000     050400
   611   // Vymazat podsoubor 1 - detaily objednávek                                                             000000     050500
   612   *In28 = *On;                                                                                            000000     050600
   613   Write  OBJWF1;                                                                                          000000     050700
   614   Write  OBJWC1;                                                                                          000000     050800
   615   *In28 = *Off;                                                                                           000000     050900
   616   I1 = 0 ; // Vynulovat čítač záznamů podsouboru                                                          000000     051000
   617                                                                                                           000000     051100
   618   // Přečíst záznamy detailů stejného čísla objednávky                                                    000000     051200
   619   Exec SQL declare CS1 cursor for                                                                         000000     051300
======>       aaa
*RNF5347 30 a      051300  An assignment operator is expected with the EVAL operation.
   620            select C.CZBOZID, MNOBJ, NAZZBO                                                                000000     051400
======>                   a



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     16

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
*RNF0622 20 a      051400  A qualified name is not allowed in this context.
   621            from OBJDET D                                                                                  000000     051500
   622            join CENYD C on D.CDOD = C.CDOD                                                                000000     051600
======>                            a        b
*RNF0622 20 a      051600  A qualified name is not allowed in this context.
*RNF0622 20 b      051600  A qualified name is not allowed in this context.
   623              and D.CZBOZID = C.CZBOZID                                                                    000000     051700
======>                  a           b
*RNF0622 20 a      051700  A qualified name is not allowed in this context.
*RNF0622 20 b      051700  A qualified name is not allowed in this context.
   624            where D.COBJ = :COBJ                                                                           000000     051800
======>                  a
*RNF0622 20 a      051800  A qualified name is not allowed in this context.
   625            order by D.COBJ, D.CZBOZID   asc                                                               000000     051900
======>                     a       b
*RNF0622 20 a      051900  A qualified name is not allowed in this context.
*RNF0622 20 b      051900  A qualified name is not allowed in this context.
   626            fetch first  9998  rows only;   // MAXIMUM_SF je 9998                                          000000     052000
   627   Exec SQL open CS1;                                                                                      000000     052100
======>       aaa
*RNF5347 30 a      052100  An assignment operator is expected with the EVAL operation.
   628                                                                                                           000000     052200
   629   // Číst první záznam detailů ze stejné objednávky                                                       000000     052300
   630   exec SQL fetch from CS1 into :CZBOZID, :MNOBJ, :NAZZBO;                                                 000000     052400
======>       aaa
*RNF5347 30 a      052400  An assignment operator is expected with the EVAL operation.
   631                                                                                                           000000     052500
   632   // Cyklus, dokud jsou data a není vyčerpáno maximum řádků                                               000000     052600
   633   DoW  sqlstate < '02000' And I1 < MAXIMUM_SF;                                                  B01       000000     052700
   634                                                                                                           000000     052800
   635      I1 += 1;  // Zvýšit čítač záznamů podsouboru                                                01       000000     052900
   636                                                                                                           000000     053000
   637      Write  OBJWS1;  // Zapsat záznam do podsouboru podle čítače                                 01       000000     053100
   638                                                                                                           000000     053200
   639      // Číst další záznam detailů ze stejné objednávky                                                    000000     053300
   640      Exec SQL fetch from CS1 into :CZBOZID, :MNOBJ, :NAZZBO;                                     01       000000     053400
======>          aaa
*RNF5347 30 a      053400  An assignment operator is expected with the EVAL operation.
   641   EndDo;                                                                                        E01       000000     053500
   642   Exec SQL close CS1;                                                                                     000000     053600
======>       aaa
*RNF5347 30 a      053600  An assignment operator is expected with the EVAL operation.
   643                                                                                                           000000     053700
   644   // Pamatovat počet záznamů podsouboru. Zapnout ind. 27,                                                 000000     053800
   645   //   je-li počet větší než 0. Umožní to zobrazit stránku                                                000000     053900
   646   //   na obrazovce.                                                                                      000000     054000
   647   Pocet1 = I1;                                                                                            000000     054100
   648   If  Pocet1 > 0;                                                                               B01       000000     054200
   649      *In27 = *On;                                                                                01       000000     054300
   650   Else ;                                                                                        X01       000000     054400
   651      *In27 = *Off;                                                                               01       000000     054500
   652   EndIf;                                                                                        E01       000000     054600
   653                                                                                                           000000     054700
   654   EndSr;                                                                                                  000000     054800
   655                                                                                                           000000     054900
   656   //---------------------------------------------------------------                                       000000     055000



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     17

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   657   // ZprDodav - Získat číslo dodavatele z přehledu dodavatelů                                             000000     055100
   658   //---------------------------------------------------------------                                       000000     055200
   659   BegSr  ZprDodav;                                                                                        000000     055300
   660   // Uschovat číslo dodavatele pro příp. F12                                                              000000     055400
   661   // Vymazat pole obrazovky pro zadání začátku názvu dodavatele                                           000000     055500
   662   Clear  ZNAZD;                                                                                           000000     055600
   663   // Nastavit kurzor na 1. záznam podsouboru                                                              000000     055700
   664   KUR3 = 1;                                                                                               000000     055800
   665   // Plnit podsoubor 3 - dodavatelé                                                                       000000     055900
   666   ExSr  PlnitSF3;                                                                                         000000     056000
   667                                                                                                           000000     056100
   668   // Cyklus - Zpracovat číslo dodavatele                                                                  000000     056200
   669   DoW  0 = 0;                                                                                   B01       000000     056300
   670      // Zobrazit seznam dodavatelů                                                                        000000     056400
   671      Write  OBJWF3;                                                                              01       000000     056500
   672      ExFmt  OBJWC3;                                                                              01       000000     056600
   673                                                                                                           000000     056700
   674      DodavZmenen = *Off;                                                                         01       000000     056800
   675                                                                                                           000000     056900
   676      If  *In03;  // F3 - Konec programu                                                         B02       000000     057000
   677         *InLR = *On;                                                                             02       000000     057100
   678         Return;                                                                                  02       000000     057200
   679      EndIf;                                                                                     E02       000000     057300
   680                                                                                                           000000     057400
   681      If  *In12; // F12 - končit podprog. ZprDodav                                               B02       000000     057500
   682         Leave;                                                                                   02       000000     057600
   683      EndIf;                                                                                     E02       000000     057700
   684                                                                                                           000000     057800
   685      If  *In25;        // Page up - Vrátit se o stránku zpět (nastavením kurzoru)               B02       000000     057900
   686         ExSr  PgUp3;   //          a zobrazit ji                                                 02       000000     058000
   687         Iter;                                                                                    02       000000     058100
   688      EndIf;                                                                                     E02       000000     058200
   689                                                                                                           000000     058300
   690      If  *In26;           // Page down - Přečíst další záznamy z databáze pro další             B02       000000     058400
   691         ExSr  PlnitSF3D;  //            stránku a zobrazit ji                                    02       000000     058500
   692         Iter;                                                                                    02       000000     058600
   693      EndIf;                                                                                     E02       000000     058700
   694                                                                                                           000000     058800
   695      // Enter:                                                                                            000000     058900
   696                                                                                                           000000     059000
   697      //  Je-li kurzor mimo stránku ( < 1 a > Pocet3 ) - Znovu plnit                                       000000     059100
   698      //   podsoubor podle zadaného začátku názvu (ZNAZD)                                                  000000     059200
   699      If  SFKUR3 < 1 Or SFKUR3 > Pocet3;                                                         B02       000000     059300
   700         ExSr  PlnitSF3;                                                                          02       000000     059400
   701         Iter;                                                                                    02       000000     059500
   702      EndIf;                                                                                     E02       000000     059600
   703                                                                                                           000000     059700
   704      CDOD2 = CDOD;                                                                               01       000000     059800
   705      // Vyhledat záznam podsouboru podle polohy kurzoru                                                   000000     059900
   706      //  (dostaneme číslo dodavatele)                                                                     000000     060000
   707      Chain  SFKUR3  OBJWS3;                                                                      01       000000     060100
   708      If CDOD <> CDOD2;                                                                          B02       000000     060200
   709         DTOBJ = %date();    // Změnim datum na dnešní                                            02       000000     060300
   710         DodavZmenen = *On;  // poznamenám změnu dodavatele                                       02       000000     060400
   711      Endif;                                                                                     E02       000000     060500
   712      Leave;                                                                                      01       000000     060600



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     18

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   713                                                                                                           000000     060700
   714   EndDo; // (Cyklus - konec)                                                                    E01       000000     060800
   715                                                                                                           000000     060900
   716   EndSr;                                                                                                  000000     061000
   717                                                                                                           000000     061100
   718   //---------------------------------------------------------------                                       000000     061200
   719   // PlnitSF3 - Plnit podsoubor 3 s dodavateli                                                            000000     061300
   720   //---------------------------------------------------------------                                       000000     061400
   721                                                                                                           000000     061500
   722   BegSr  PlnitSF3;                                                                                        000000     061600
   723                                                                                                           000000     061700
   724   // Vymazat podsoubor 3 - dodavatelé                                                                     000000     061800
   725   *In48 = *On;                                                                                            000000     061900
   726   Write  OBJWF3;                                                                                          000000     062000
   727   Write  OBJWC3;                                                                                          000000     062100
   728   *In48 = *Off;                                                                                           000000     062200
   729   // Vynulovat čítač záznamů podsouboru 3                                                                 000000     062300
   730   I3 = 0;                                                                                                 000000     062400
   731                                                                                                           000000     062500
   732   // Přečíst záznamy dodavatelů podle zadaného textu v poli ZNAZD                                         000000     062600
   733   //   od stejného nebo nejblíže vyššího podle abecedy                                                    000000     062700
   734   Exec SQL declare CS3 scroll cursor for                                                                  000000     062800
======>       aaa
*RNF5347 30 a      062800  An assignment operator is expected with the EVAL operation.
   735            select CDOD, NAZDOD, ADRDOD from DODAV                                                         000000     062900
   736            where NAZDOD >= :ZNAZD                                                                         000000     063000
   737            order by NAZDOD asc                                                                            000000     063100
   738            fetch first 7 rows only;  // Pag3 = 7                                                          000000     063200
   739                                                                                                           000000     063300
   740   // Zapsat do podsouboru další stránku zboží                                                             000000     063400
   741      Exec SQL open CS3;                                                                                   000000     063500
======>          aaa
*RNF5347 30 a      063500  An assignment operator is expected with the EVAL operation.
   742      Exec SQL fetch first from CS3 into :CDOD, :NAZDOD, :ADRDOD;                                          000000     063600
======>          aaa
*RNF5347 30 a      063600  An assignment operator is expected with the EVAL operation.
   743                                                                                                           000000     063700
   744      DoW  sqlstate < '02000' and I3 < Pag3;                                                     B01       000000     063800
   745         I3 += 1;        // Zvýšit čítač záznamů podsouboru                                       01       000000     063900
   746         Write  OBJWS3;  // Zapsat záznam do podsouboru podle čítače                              01       000000     064000
   747         Exec SQL fetch next from CS3 into :CDOD, :NAZDOD, :ADRDOD;                               01       000000     064100
======>             aaa
*RNF5347 30 a      064100  An assignment operator is expected with the EVAL operation.
   748      EndDo;                                                                                     E01       000000     064200
   749      Exec SQL close CS3;                                                                                  000000     064300
======>          aaa
*RNF5347 30 a      064300  An assignment operator is expected with the EVAL operation.
   750                                                                                                           000000     064400
   751   // Pamatovat počet záznamů podsouboru. Zapnout ind. 47,                                                 000000     064500
   752   //   je-li počet větší než 0. Umožní to zobrazit stránku                                                000000     064600
   753   //   na obrazovce.                                                                                      000000     064700
   754   Pocet3 = I3;                                                                                            000000     064800
   755   If  Pocet3 > 0;                                                                               B01       000000     064900
   756      *In47 = *On;                                                                                01       000000     065000
   757   Else;                                                                                         X01       000000     065100
   758      *In47 = *Off;                                                                               01       000000     065200



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     19

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   759   EndIf;                                                                                        E01       000000     065300
   760                                                                                                           000000     065400
   761   KUR3 = 1;                                                                                               000000     065500
   762                                                                                                           000000     065600
   763   EndSr;                                                                                                  000000     065700
   764                                                                                                           000000     065800
   765   //---------------------------------------------------------------                                       000000     065900
   766   // PgUp3 - Nastavit předchozí stránku po Page up u dodavatelů                                           000000     066000
   767   //---------------------------------------------------------------                                       000000     066100
   768                                                                                                           000000     066200
   769   BegSr  PgUp3;                                                                                           000000     066300
   770                                                                                                           000000     066400
   771   // Je-li současná poloha kurzoru větší než velikost stránky,                                            000000     066500
   772   //   odečíst velikost stránky od nastavení kurzoru pro                                                  000000     066600
   773   //   příští zobrazení (Kurzor3). Jinak nastavit číslo 1.                                                000000     066700
   774   If  SFKUR3 > Pag3;                                                                            B01       000000     066800
   775      Eval  KUR3 -= Pag3;                                                                         01       000000     066900
   776   Else;                                                                                         X01       000000     067000
   777      Eval  KUR3 = 1;                                                                             01       000000     067100
   778   EndIf;                                                                                        E01       000000     067200
   779                                                                                                           000000     067300
   780   EndSr;                                                                                                  000000     067400
   781                                                                                                           000000     067500
   782   //---------------------------------------------------------------                                       000000     067600
   783   // PlnitSF3D - Plnit podsoubor 3 s dodavateli po Page down                                              000000     067700
   784   //---------------------------------------------------------------                                       000000     067800
   785                                                                                                           000000     067900
   786   BegSr  PlnitSF3D;                                                                                       000000     068000
   787                                                                                                           000000     068100
   788   // Spočítat číslo poslední stránky podsouboru                                                           000000     068200
   789   PosledniStr = %Div(I3: Pag3);                                                                           000000     068300
   790   If  %Rem(I3: Pag3) = 0;                                                                       B01       000000     068400
   791      Eval      PosledniStr -= 1;                                                                 01       000000     068500
   792   EndIf;                                                                                        E01       000000     068600
   793                                                                                                           000000     068700
   794   // Spočítat číslo právě zobrazené stránky                                                               000000     068800
   795   SoucasnaStr = %Div(SFKUR3: Pag3);                                                                       000000     068900
   796   If  %Rem(SFKUR3: Pag3) = 0;                                                                   B01       000000     069000
   797      Eval  SoucasnaStr -= 1;                                                                     01       000000     069100
   798   EndIf;                                                                                        E01       000000     069200
   799                                                                                                           000000     069300
   800   // Když zobrazená stránka není poslední stránka podsouboru,                                             000000     069400
   801   //   (číslo zobrazené stránky je menší než číslo poslední str.)                                         000000     069500
   802   //   nastavit kurzor o jednu stránku dál                                                                000000     069600
   803   If  SoucasnaStr < PosledniStr;                                                                B01       000000     069700
   804                                                                                                           000000     069800
   805      KUR3 = SFKUR3 + Pag3;                                                                       01       000000     069900
   806                                                                                                           000000     070000
   807   Else;  // Když to je poslední stránka - Přečíst další záznamy z DB                            X01       000000     070100
   808                                                                                                           000000     070200
   809      Chain  I3  OBJWS3;  // Přečíst poslední záznam podsouboru podle čítače                      01       000000     070300
   810                                                                                                           000000     070400
   811      // Nastavit databázi na vyšší název dodavatele                                                       000000     070500
   812      Exec SQL declare CS3D scroll cursor for                                                     01       000000     070600
======>          aaa
*RNF5347 30 a      070600  An assignment operator is expected with the EVAL operation.



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     20

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   813               select CDOD, NAZDOD, ADRDOD from DODAV                                             01       000000     070700
   814               where NAZDOD >  :NAZDOD                                                            01       000000     070800
   815               order by NAZDOD asc                                                                01       000000     070900
   816               fetch first 7 rows only;   // Page3 = 7                                            01       000000     071000
   817                                                                                                           000000     071100
   818      Exec SQL open CS3D;                                                                         01       000000     071200
======>          aaa
*RNF5347 30 a      071200  An assignment operator is expected with the EVAL operation.
   819                                                                                                           000000     071300
   820      // Číst první záznam dodavatelů                                                                      000000     071400
   821      Exec SQL fetch first from CS3D                                                              01       000000     071500
======>          aaa
*RNF5347 30 a      071500  An assignment operator is expected with the EVAL operation.
   822                   into :CDOD, :NAZDOD, :ADRDOD;                                                  01       000000     071600
   823      Idx = I3 + Pag3;  // Hranice cyklu - Čítač plus velikost stránky                            01       000000     071700
   824                                                                                                           000000     071800
   825      // Cyklus, dokud není konec souboru dodavatelů nebo                                                  000000     071900
   826      //   není dosažena hranice cyklu Idx                                                                 000000     072000
   827                                                                                                           000000     072100
   828      DoW  sqlstate < '02000' And I3 < Idx;   // do počtu dat a velikosti stránky                B02       000000     072200
   829         I3 += 1;  // Zvýšit čítač záznamů podsouboru                                             02       000000     072300
   830         Write  OBJWS3;  // Zapsat záznam do podsouboru podle čítače                              02       000000     072400
   831                                                                                                           000000     072500
   832         // Číst další záznam dodavatelů                                                                   000000     072600
   833         Exec SQL fetch next from CS3D                                                            02       000000     072700
======>             aaa
*RNF5347 30 a      072700  An assignment operator is expected with the EVAL operation.
   834                     into :CDOD, :NAZDOD, :ADRDOD;                                                02       000000     072800
   835      EndDo;                                                                                     E02       000000     072900
   836      Exec SQL close CS3D;                                                                        01       000000     073000
======>          aaa
*RNF5347 30 a      073000  An assignment operator is expected with the EVAL operation.
   837                                                                                                           000000     073100
   838      // Pamatovat počet záznamů podsouboru. Zapnout ind. 47,                                              000000     073200
   839      //  je-li počet větší než 0. Umožní to zobrazit stránku                                              000000     073300
   840      //  na obrazovce.                                                                                    000000     073400
   841      Pocet3 = I3;                                                                                01       000000     073500
   842      If  Pocet3 > 0;                                                                            B02       000000     073600
   843         *In47 = *On;                                                                             02       000000     073700
   844      Else;                                                                                      X02       000000     073800
   845         *In47 = *Off;                                                                            02       000000     073900
   846      EndIf;                                                                                     E02       000000     074000
   847                                                                                                           000000     074100
   848      KUR3 = I3;  // Nastavit kurzor na poslední záznam podsouboru                                01       000000     074200
   849                                                                                                           000000     074300
   850   EndIf;  // konec testu na poslední stránku                                                    E01       000000     074400
   851                                                                                                           000000     074500
   852   EndSr;                                                                                                  000000     074600
   853                                                                                                           000000     074700
   854   //---------------------------------------------------------------                                       000000     074800
   855   // ZprCeny - Získat číslo a název zboží ze souboru CENY                                                 000000     074900
   856   //---------------------------------------------------------------                                       000000     075000
   857                                                                                                           000000     075100
   858   BegSr  ZprCeny;                                                                                         000000     075200
   859                                                                                                           000000     075300
   860   // Uschovat hodnoty z obrazovky (pro příp. F12)                                                         000000     075400



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     21

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   861   CZBOZ2 = CZBOZID;                                                                                       000000     075500
   862   MNOBJ2 = MNOBJ ;                                                                                        000000     075600
   863   // Vymazat pole pro zadání začátku názvu zboží                                                          000000     075700
   864   Clear  ZNAZZB ;                                                                                         000000     075800
   865                                                                                                           000000     075900
   866   // Plnit podsoubor 2 - zboží                                                                            000000     076000
   867   ExSr  PlnitSF2;                                                                                         000000     076100
   868                                                                                                           000000     076200
   869   // Cyklus 1:                                                                                            000000     076300
   870   DoW  0 = 0;                                                                                   B01       000000     076400
   871      // Zobrazit seznam zboží                                                                             000000     076500
   872      Write  OBJWF2;                                                                              01       000000     076600
   873      ExFmt  OBJWC2;                                                                              01       000000     076700
   874                                                                                                           000000     076800
   875      If  *In03;  // F3 - Konec programu                                                         B02       000000     076900
   876         *InLR = *On;                                                                             02       000000     077000
   877         Return;                                                                                  02       000000     077100
   878      EndIf;                                                                                     E02       000000     077200
   879                                                                                                           000000     077300
   880      // F12 - Vrátit uschované hodnoty a končit podprog. ZprCeny                                          000000     077400
   881      If  *In12;                                                                                 B02       000000     077500
   882         CZBOZID = CZBOZ2;                                                                        02       000000     077600
   883         MNOBJ = MNOBJ2;                                                                          02       000000     077700
   884         Leave;                                                                                   02       000000     077800
   885      EndIf;                                                                                     E02       000000     077900
   886                                                                                                           000000     078000
   887      // Page up - Naplnit předchozí stránku předchozími záznamy                                           000000     078100
   888      //          databáze a zobrazit tuto stránku                                                         000000     078200
   889      If  *In25;                                                                                 B02       000000     078300
   890         ExSr  PlnitSF2U;                                                                         02       000000     078400
   891         Iter;                                                                                    02       000000     078500
   892      EndIf;                                                                                     E02       000000     078600
   893                                                                                                           000000     078700
   894      // Page down - Naplnit další stránku dalšími záznamy                                                 000000     078800
   895      //            databáze a zobrazit tuto stránku                                                       000000     078900
   896      If  *In26;                                                                                 B02       000000     079000
   897         ExSr  PlnitSF2D;                                                                         02       000000     079100
   898         Iter;                                                                                    02       000000     079200
   899      EndIf;                                                                                     E02       000000     079300
   900                                                                                                           000000     079400
   901      // Enter:                                                                                            000000     079500
   902      //  Je-li kurzor mimo stránku ( < 1 a > Pocet2 ) - Znovu plnit                                       000000     079600
   903      //   podsoubor podle zadaného začátku názvu (ZNAZZB)                                                 000000     079700
   904      If  SFKUR2 < 1 Or SFKUR2 > Pocet2;                                                         B02       000000     079800
   905         ExSr  PlnitSF2;                                                                          02       000000     079900
   906         Iter;                                                                                    02       000000     080000
   907      EndIf;                                                                                     E02       000000     080100
   908                                                                                                           000000     080200
   909      // Vyhledat záznam podsouboru podle polohy kurzoru                                                   000000     080300
   910      //  (dostaneme číslo zboží)                                                                          000000     080400
   911      Chain  SFKUR2  OBJWS2;                                                                      01       000000     080500
   912      Leave;                                                                                      01       000000     080600
   913   EndDo;  // konec Cyklu 1                                                                      E01       000000     080700
   914                                                                                                           000000     080800
   915   EndSr;                                                                                                  000000     080900
   916                                                                                                           000000     081000



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     22

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   917   //---------------------------------------------------------------                                       000000     081100
   918   // PlnitSF2 - Plnit podsoubor 2 se zbožím od zadaného začátku                                           000000     081200
   919   //            názvu zboží (ZNAZZB) - jen jednu stránku                                                  000000     081300
   920   //---------------------------------------------------------------                                       000000     081400
   921                                                                                                           000000     081500
   922   BegSr  PlnitSF2;                                                                                        000000     081600
   923                                                                                                           000000     081700
   924   // Vymazat podsoubor 2 - zboží                                                                          000000     081800
   925   *in38 = *on;                                                                                            000000     081900
   926   Write  OBJWF2;                                                                                          000000     082000
   927   Write  OBJWC2;                                                                                          000000     082100
   928   *in38 = *off;                                                                                           000000     082200
   929   // Vynulovat čítač záznamů podsouboru 2                                                                 000000     082300
   930   I2 = 0;                                                                                                 000000     082400
   931                                                                                                           000000     082500
   932   // Najít v databázi první název zboží podle začátečních písmen                                          000000     082600
   933   //   nebo nejblíže vyšší podle abecedy                                                                  000000     082700
   934                                                                                                           000000     082800
   935   Exec SQL declare CS2 cursor for                                                                         000000     082900
======>       aaa
*RNF5347 30 a      082900  An assignment operator is expected with the EVAL operation.
   936            select CZBOZID, CENAJ, NAZZBO from CENYD                                                       000000     083000
   937            where NAZZBO >= :ZNAZZB and CDOD = :CDOD                                                       000000     083100
   938            order by NAZZBO asc                                                                            000000     083200
   939            fetch first 7 rows only;   // Page2 = 7                                                        000000     083300
   940                                                                                                           000000     083400
   941   // Zapsat do podsouboru další stránku zboží                                                             000000     083500
   942   Exec SQL open CS2;                                                                                      000000     083600
======>       aaa
*RNF5347 30 a      083600  An assignment operator is expected with the EVAL operation.
   943   Exec SQL fetch from CS2 into :CZBOZID, :CENAJ, :NAZZBO;                                                 000000     083700
======>       aaa
*RNF5347 30 a      083700  An assignment operator is expected with the EVAL operation.
   944                                                                                                           000000     083800
   945   DoW  sqlstate < '02000' and I2 < Pag2;   // do počtu dat a velikosti stránky                  B01       000000     083900
   946      I2 += 1;  // Zvýšit čítač záznamů podsouboru                                                01       000000     084000
   947      Write  OBJWS2;  // Zapsat záznam do podsouboru podle čítače                                 01       000000     084100
   948      Exec SQL fetch from CS2 into :CZBOZID, :CENAJ, :NAZZBO;                                     01       000000     084200
======>          aaa
*RNF5347 30 a      084200  An assignment operator is expected with the EVAL operation.
   949   EndDo;                                                                                        E01       000000     084300
   950   Exec SQL close CS2;                                                                                     000000     084400
======>       aaa
*RNF5347 30 a      084400  An assignment operator is expected with the EVAL operation.
   951                                                                                                           000000     084500
   952   // Pamatovat počet záznamů podsouboru. Zapnout ind. 37,                                                 000000     084600
   953   //   je-li počet větší než 0. Umožní to zobrazit stránku                                                000000     084700
   954   //   na obrazovce.                                                                                      000000     084800
   955   Pocet2 = I2;                                                                                            000000     084900
   956   If  Pocet2 > 0;                                                                               B01       000000     085000
   957      *In37 = *On;                                                                                01       000000     085100
   958   Else;                                                                                         X01       000000     085200
   959      *In37 = *Off;                                                                               01       000000     085300
   960   EndIf;                                                                                        E01       000000     085400
   961                                                                                                           000000     085500
   962   EndSr;                                                                                                  000000     085600



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     23

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   963                                                                                                           000000     085700
   964   //---------------------------------------------------------------                                       000000     085800
   965   // PlnitSF2U - Plnit podsoubor 2 se zbožím pozpátku od dosavadního                                      000000     085900
   966   //             prvního názvu zboží v podsouboru                                                         000000     086000
   967   //---------------------------------------------------------------                                       000000     086100
   968                                                                                                           000000     086200
   969   BegSr  PlnitSF2U;                                                                                       000000     086300
   970                                                                                                           000000     086400
   971   // Najít první dosavadní název zboží v podsouboru                                                       000000     086500
   972   //   (podsoubor má jen jednu stránku!)                                                                  000000     086600
   973   //   Když neexistuje, NAZZBO se nezmění.                                                                000000     086700
   974   Chain(E)  1  OBJWS2;                                                                                    000000     086800
   975                                                                                                           000000     086900
   976   //...............................................................                                       000000     087000
   977   // ALTERNATIVA 1 (s opakováním řádku)                                                                   000000     087100
   978   // Přečíst nejvýše 7 záznamů menších či rovných naposledy přečtenému názvu                              000000     087200
   979      Exec SQL declare CS2U scroll cursor for                                                              000000     087300
======>          aaa
*RNF5347 30 a      087300  An assignment operator is expected with the EVAL operation.
   980               select CZBOZID, CENAJ, NAZZBO from CENYD                                                    000000     087400
   981               where NAZZBO <= :NAZZBO   // menší nebo rovno                                               000000     087500
   982                 and CDOD = :CDOD                                                                          000000     087600
   983               order by NAZZBO desc      // seřadit sestupně pro čtení "pozpátku"                          000000     087700
   984               fetch first 7 rows only;  // Pag2 = 7                                                       000000     087800
   985                                                                                                           000000     087900
   986   //...............................................................                                       000000     088000
   987   // ALTERNATIVA 2 (bez opakování řádku)                                                                  000000     088100
   988   // Přečíst nejvýše 7 záznamů menších než je text v poli NAZZBO                                          000000     088200
   989   //...............................................................                                       000000     088300
   990                                                                                                           000000     088400
   991   // Exec SQL declare CS2U scroll cursor for                                                              000000     088500
   992   //          select CZBOZID, CENAJ, NAZZBO from CENYD                                                    000000     088600
   993   //          where NAZZBO <  :NAZZBO   // ostře menší                                                    000000     088700
   994   //          order by NAZZBO desc      // seřadit sestupně pro čtení "pozpátku"                          000000     088800
   995   //          fetch first 7 rows only;  // Pag2 = 7                                                       000000     088900
   996   //                                                                                                      000000     089000
   997                                                                                                           000000     089100
   998   // Vymazat podsoubor 2 - zboží (má velikost jedné stránky)                                              000000     089200
   999   *in38 = *on;                                                                                            000000     089300
  1000   Write  OBJWF2;                                                                                          000000     089400
  1001   Write  OBJWC2;                                                                                          000000     089500
  1002   *in38 = *off;                                                                                           000000     089600
  1003   // Vynulovat čítač záznamů podsouboru 2                                                                 000000     089700
  1004   I2 = 0;                                                                                                 000000     089800
  1005                                                                                                           000000     089900
  1006   Exec SQL open CS2U;                                                                                     000000     090000
======>       aaa
*RNF5347 30 a      090000  An assignment operator is expected with the EVAL operation.
  1007   // Naplnit podsoubor záznamy  z databáze od tohoto názvu dále                                           000000     090100
  1008   //  Číst poslední záznam z výsledné tabulky                                                             000000     090200
  1009   Exec SQL fetch last from CS2U into :CZBOZID, :CENAJ, :NAZZBO;                                           000000     090300
======>       aaa
*RNF5347 30 a      090300  An assignment operator is expected with the EVAL operation.
  1010                                                                                                           000000     090400
  1011   // Cyklus, dokud není konec databáze nebo není vyčerpán                                                 000000     090500
  1012   //    počet řádků obrazovkové stránky (Pag2)                                                            000000     090600



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     24

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
  1013   DoW  sqlstate < '02000' And I2 < Pag2;                                                        B01       000000     090700
  1014      I2 += 1; // Zvýšit čítač záznamů podsouboru                                                 01       000000     090800
  1015      Write  OBJWS2; // Zapsat záznam do podsouboru podle čítače                                  01       000000     090900
  1016      // Číst předchozí záznam výsledné tabulky                                                            000000     091000
  1017      exec SQL fetch prior from CS2U into :CZBOZID, :CENAJ, :NAZZBO;                              01       000000     091100
======>          aaa
*RNF5347 30 a      091100  An assignment operator is expected with the EVAL operation.
  1018   EndDo;                                                                                        E01       000000     091200
  1019   Exec SQL close CS2U;                                                                                    000000     091300
======>       aaa
*RNF5347 30 a      091300  An assignment operator is expected with the EVAL operation.
  1020                                                                                                           000000     091400
  1021   // Pamatovat počet záznamů podsouboru. Zapnout ind. 37,                                                 000000     091500
  1022   //   je-li počet větší než 0. Umožní to zobrazit stránku                                                000000     091600
  1023   //   na obrazovce.                                                                                      000000     091700
  1024   Pocet2 = I2;                                                                                            000000     091800
  1025   If  Pocet2 > 0;                                                                               B01       000000     091900
  1026      *In37 = *On;                                                                                01       000000     092000
  1027   Else;                                                                                         X01       000000     092100
  1028      *In37 = *Off;                                                                               01       000000     092200
  1029   EndIf;                                                                                        E01       000000     092300
  1030                                                                                                           000000     092400
  1031   EndSr;                                                                                                  000000     092500
  1032                                                                                                           000000     092600
  1033   //---------------------------------------------------------------                                       000000     092700
  1034   // PlnitSF2D - Plnit podsoubor 2 se zbožím dopředu od dosavadního                                       000000     092800
  1035   //             posledního názvu zboží v podsouboru                                                      000000     092900
  1036   //---------------------------------------------------------------                                       000000     093000
  1037   BegSr  PlnitSF2D;                                                                                       000000     093100
  1038                                                                                                           000000     093200
  1039   I2 = 0; // Vynulovat čítač záznamů podsouboru 2                                                         000000     093300
  1040                                                                                                           000000     093400
  1041   // Najít poslední dosavadní název zboží v podsouboru                                                    000000     093500
  1042   //   (podsoubor má jen jednu stránku!)                                                                  000000     093600
  1043   //   Když neexistuje, zapne se ind. 86 a NAZZBO se nezmění.                                             000000     093700
  1044   Chain(E)  Pag2  OBJWS2;                                                                                 000000     093800
  1045                                                                                                           000000     093900
  1046   // Vymazat podsoubor 2 - zboží                                                                          000000     094000
  1047   *in38 = *on;                                                                                            000000     094100
  1048   Write  OBJWF2;                                                                                          000000     094200
  1049   Write  OBJWC2;                                                                                          000000     094300
  1050   *in38 = *off;                                                                                           000000     094400
  1051                                                                                                           000000     094500
  1052   I2 = 0; // Vynulovat čítač záznamů podsouboru 2                                                         000000     094600
  1053                                                                                                           000000     094700
  1054   //...............................................................                                       000000     094800
  1055   // ALTERNATIVA 1 (s opakováním řádku)                                                                   000000     094900
  1056   // Nastavit ukazatel do databáze PŘED tento název                                                       000000     095000
  1057   //   (na příští stránce se opakuje poslední řádek z minulé str.)                                        000000     095100
  1058                                                                                                           000000     095200
  1059      Exec SQL declare CS2D cursor for                                                                     000000     095300
======>          aaa
*RNF5347 30 a      095300  An assignment operator is expected with the EVAL operation.
  1060               select CZBOZID, CENAJ, NAZZBO from CENYD                                                    000000     095400
  1061               where NAZZBO >= :NAZZBO and CDOD = :CDOD                                                    000000     095500
  1062               order by NAZZBO asc                                                                         000000     095600



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     25

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
  1063               fetch first 7 rows only;   // Page2 = 7                                                     000000     095700
  1064                                                                                                           000000     095800
  1065   //...............................................................                                       000000     095900
  1066   // ALTERNATIVA 2 (bez opakování řádku)                                                                  000000     096000
  1067   // Nastavit ukazatel do databáze ZA tento název                                                         000000     096100
  1068   //   (na příští stránce se neopakuje žádný řádek z minulé str.)                                         000000     096200
  1069   //...............................................................                                       000000     096300
  1070                                                                                                           000000     096400
  1071   // Exec SQL declare CS2D cursor for                                                                     000000     096500
  1072   //          select CZBOZID, CENAJ, NAZZBO from CENYD                                                    000000     096600
  1073   //          where NAZZBO > :NAZZBO                                                                      000000     096700
  1074   //          order by NAZZBO asc                                                                         000000     096800
  1075   //          fetch first 7 rows only;   // Page2 = 7                                                     000000     096900
  1076                                                                                                           000000     097000
  1077   Exec SQL open CS2D;                                                                                     000000     097100
======>       aaa
*RNF5347 30 a      097100  An assignment operator is expected with the EVAL operation.
  1078                                                                                                           000000     097200
  1079   // Číst nastavený záznam z databáze                                                                     000000     097300
  1080   Exec SQL fetch from CS2D into :CZBOZID, :CENAJ, :NAZZBO;                                                000000     097400
======>       aaa
*RNF5347 30 a      097400  An assignment operator is expected with the EVAL operation.
  1081                                                                                                           000000     097500
  1082   // Cyklus, dokud není konec databáze nebo není vyčerpán                                                 000000     097600
  1083   //   počet řádků obrazovkové stránky (Pag2)                                                             000000     097700
  1084   DoW  sqlstate < '02000' And I2 < Pag2;   // do počtu data a velikosti stránky                 B01       000000     097800
  1085      I2 += 1;        // Zvýšit čítač záznamů podsouboru                                          01       000000     097900
  1086      Write  OBJWS2;  // Zapsat záznam do podsouboru podle čítače                                 01       000000     098000
  1087      exec SQL fetch from CS2D into :CZBOZID, :CENAJ, :NAZZBO;                                    01       000000     098100
======>          aaa
*RNF5347 30 a      098100  An assignment operator is expected with the EVAL operation.
  1088   EndDo;                                                                                        E01       000000     098200
  1089   Exec SQL close CS2D;                                                                                    000000     098300
======>       aaa
*RNF5347 30 a      098300  An assignment operator is expected with the EVAL operation.
  1090                                                                                                           000000     098400
  1091   // Pamatovat počet záznamů podsouboru. Zapnout ind. 37,                                                 000000     098500
  1092   //   je-li počet větší než 0. Umožní to zobrazit stránku                                                000000     098600
  1093   //   na obrazovce.                                                                                      000000     098700
  1094   Pocet2 = I2;                                                                                            000000     098800
  1095   If  Pocet2 > 0;                                                                               B01       000000     098900
  1096      *In37 = *On;                                                                                01       000000     099000
  1097   Else;                                                                                         X01       000000     099100
  1098      *In37 = *Off;                                                                               01       000000     099200
  1099   EndIf;                                                                                        E01       000000     099300
  1100                                                                                                           000000     099400
  1101   EndSr;                                                                                                  000000     099500
  1102=OOBJWF0                                                                                                            20000001
        *--------------------------------------------------------------------------------------------*                    20
        * RPG record format  . . . . :  OBJWF0                                                       *                    20
        * External format  . . . . . :  OBJWF0 : VZSQLPGM/OBJW                                       *                    20
        *--------------------------------------------------------------------------------------------*                    20
  1103=OOBJWS0                                                                                                            21000001
        *--------------------------------------------------------------------------------------------*                    21
        * RPG record format  . . . . :  OBJWS0                                                       *                    21
        * External format  . . . . . :  OBJWS0 : VZSQLPGM/OBJW                                       *                    21



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     26

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        *--------------------------------------------------------------------------------------------*                    21
  1104=O                       CDOD                 6A CHAR        6              Číslo dodavatele                        21000002
  1105=O                       COBJ                12A CHAR        6              Číslo objednávky                        21000003
  1106=O                       DTOBJ               22D DATE *ISO- 10              Datum objednávky                        21000004
  1107=O                       NAZDOD              52A CHAR       30              Název dodavatele                        21000005
  1108=OOBJWC0                                                                                                            22000001
        *--------------------------------------------------------------------------------------------*                    22
        * RPG record format  . . . . :  OBJWC0                                                       *                    22
        * External format  . . . . . :  OBJWC0 : VZSQLPGM/OBJW                                       *                    22
        *--------------------------------------------------------------------------------------------*                    22
  1109=O                       *IN47                1N CHAR        1                                                      22000002
  1110=O                       *IN48                2N CHAR        1                                                      22000003
  1111=O                       *IN60                4N CHAR        1              Transakce se nedokončila                22000004
  1112=O                       *IN80                3N CHAR        1              Ukažte na řádek!                        22000005
  1113=O                       SFKUR0               9S ZONE      5,0                                                      22000006
  1114=O                       KUR0                13S ZONE      4,0                                                      22000007
  1115=O                       DNES                23D DATE *ISO- 10                                                      22000008
  1116=OOBJWF1                                                                                                            23000001
        *--------------------------------------------------------------------------------------------*                    23
        * RPG record format  . . . . :  OBJWF1                                                       *                    23
        * External format  . . . . . :  OBJWF1 : VZSQLPGM/OBJW                                       *                    23
        *--------------------------------------------------------------------------------------------*                    23
  1117=OOBJWS1                                                                                                            24000001
        *--------------------------------------------------------------------------------------------*                    24
        * RPG record format  . . . . :  OBJWS1                                                       *                    24
        * External format  . . . . . :  OBJWS1 : VZSQLPGM/OBJW                                       *                    24
        *--------------------------------------------------------------------------------------------*                    24
  1118=O                       COBJ                 6A CHAR        6              Číslo objed.                            24000002
  1119=O                       CDOD                12A CHAR        6              Číslo dodav.                            24000003
  1120=O                       CZBOZID             17A CHAR        5              Čislo zboží. dodav.                     24000004
  1121=O                       MNOBJ               26S ZONE      9,0              Množství objed.                         24000005
  1122=O                       NAZZBO              56A CHAR       30              Název zboži                             24000006
  1123=OOBJWC1                                                                                                            25000001
        *--------------------------------------------------------------------------------------------*                    25
        * RPG record format  . . . . :  OBJWC1                                                       *                    25
        * External format  . . . . . :  OBJWC1 : VZSQLPGM/OBJW                                       *                    25
        *--------------------------------------------------------------------------------------------*                    25
  1124=O                       *IN27                1N CHAR        1                                                      25000002
  1125=O                       *IN28                2N CHAR        1                                                      25000003
  1126=O                       *IN81                3N CHAR        1                                                      25000004
  1127=O                       SFKUR1               8S ZONE      5,0                                                      25000005
  1128=O                       COBJ                14A CHAR        6              Číslo objednávky                        25000006
  1129=O                       DNES                24D DATE *ISO- 10                                                      25000007
  1130=OOBJWF2                                                                                                            26000001
        *--------------------------------------------------------------------------------------------*                    26
        * RPG record format  . . . . :  OBJWF2                                                       *                    26
        * External format  . . . . . :  OBJWF2 : VZSQLPGM/OBJW                                       *                    26
        *--------------------------------------------------------------------------------------------*                    26
  1131=OOBJWS2                                                                                                            27000001
        *--------------------------------------------------------------------------------------------*                    27
        * RPG record format  . . . . :  OBJWS2                                                       *                    27
        * External format  . . . . . :  OBJWS2 : VZSQLPGM/OBJW                                       *                    27
        *--------------------------------------------------------------------------------------------*                    27
  1132=O                       CZBOZID              5A CHAR        5              Číslo zboží                             27000002
  1133=O                       CENAJ               14S ZONE      9,2              Cena za jednotku                        27000003
  1134=O                       NAZZBO              44A CHAR       30              Název zboží                             27000004



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     27

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
  1135=OOBJWC2                                                                                                            28000001
        *--------------------------------------------------------------------------------------------*                    28
        * RPG record format  . . . . :  OBJWC2                                                       *                    28
        * External format  . . . . . :  OBJWC2 : VZSQLPGM/OBJW                                       *                    28
        *--------------------------------------------------------------------------------------------*                    28
  1136=O                       *IN37                1N CHAR        1                                                      28000002
  1137=O                       *IN38                2N CHAR        1                                                      28000003
  1138=O                       SFKUR2               7S ZONE      5,0                                                      28000004
  1139=O                       DNES                17D DATE *ISO- 10                                                      28000005
  1140=O                       ZNAZZB              47A CHAR       30              Název zboži                             28000006
  1141=OOBJWF3                                                                                                            29000001
        *--------------------------------------------------------------------------------------------*                    29
        * RPG record format  . . . . :  OBJWF3                                                       *                    29
        * External format  . . . . . :  OBJWF3 : VZSQLPGM/OBJW                                       *                    29
        *--------------------------------------------------------------------------------------------*                    29
  1142=OOBJWS3                                                                                                            30000001
        *--------------------------------------------------------------------------------------------*                    30
        * RPG record format  . . . . :  OBJWS3                                                       *                    30
        * External format  . . . . . :  OBJWS3 : VZSQLPGM/OBJW                                       *                    30
        *--------------------------------------------------------------------------------------------*                    30
  1143=O                       CDOD                 6A CHAR        6              Číslo dodavatele                        30000002
  1144=O                       NAZDOD              36A CHAR       30              Název dodavatele                        30000003
  1145=O                       ADRDOD              56A CHAR       20              Adresa dodavatele                       30000004
  1146=OOBJWC3                                                                                                            31000001
        *--------------------------------------------------------------------------------------------*                    31
        * RPG record format  . . . . :  OBJWC3                                                       *                    31
        * External format  . . . . . :  OBJWC3 : VZSQLPGM/OBJW                                       *                    31
        *--------------------------------------------------------------------------------------------*                    31
  1147=O                       *IN47                1N CHAR        1                                                      31000002
  1148=O                       *IN48                2N CHAR        1                                                      31000003
  1149=O                       SFKUR3               7S ZONE      5,0                                                      31000004
  1150=O                       KUR3                11S ZONE      4,0                                                      31000005
  1151=O                       DNES                21D DATE *ISO- 10                                                      31000006
  1152=O                       ZNAZD               51A CHAR       30                                                      31000007
  1153=OOBJWF4                                                                                                            32000001
        *--------------------------------------------------------------------------------------------*                    32
        * RPG record format  . . . . :  OBJWF4                                                       *                    32
        * External format  . . . . . :  OBJWF4 : VZSQLPGM/OBJW                                       *                    32
        *--------------------------------------------------------------------------------------------*                    32
  1154=O                       *IN06                1N CHAR        1                                                      32000002
  1155=O                       *IN84                3N CHAR        1              Chybné číslo dodavatele                 32000003
  1156=O                       *IN85                2N CHAR        1              Objednávka již existuje                 32000004
  1157=O                       DNES                13D DATE *ISO- 10                                                      32000005
  1158=O                       COBJ                19A CHAR        6              Číslo objednávky                        32000006
  1159=O                       CDOD                25A CHAR        6              Číslo dodavatele                        32000007
  1160=O                       NAZDOD              55A CHAR       30              Název dodavatele                        32000008
  1161=O                       DTOBJ               65D DATE *ISO- 10              Datum objednávky                        32000009
  1162=OOBJWF5                                                                                                            33000001
        *--------------------------------------------------------------------------------------------*                    33
        * RPG record format  . . . . :  OBJWF5                                                       *                    33
        * External format  . . . . . :  OBJWF5 : VZSQLPGM/OBJW                                       *                    33
        *--------------------------------------------------------------------------------------------*                    33
  1163=O                       *IN04                3N CHAR        1              Zboží                                   33000002
  1164=O                       *IN82                1N CHAR        1              Zboží je již v objednávce               33000003
  1165=O                       *IN83                2N CHAR        1              Zboží není v ceníku                     33000004
  1166=O                       COBJ                 9A CHAR        6              Číslo objednávky                        33000005



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     28

Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
  1167=O                       DNES                19D DATE *ISO- 10                                                      33000006
  1168=O                       CDOD                25A CHAR        6              Číslo dodavatele                        33000007
  1169=O                       NAZDOD              55A CHAR       30              Název dodavatele                        33000008
  1170=O                       DTOBJ               65D DATE *ISO- 10              Datum objednávky                        33000009
  1171=O                       CZBOZID             70A CHAR        5              Číslo zboží                             33000010
  1172=O                       MNOBJ               79S ZONE      9,0              Objednávané množství                    33000011

       * * * * *   E N D   O F   S O U R C E   * * * * *



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     29

          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s

 Msg id  Sv Number Seq     Message text
*RNF7030 30    620 051400  The name or indicator C is not defined.
*RNF7030 30    622 051600  The name or indicator C.CDOD is not defined.
*RNF7030 30    620 051400  The name or indicator C.CZBOZID is not defined.
*RNF7030 30    316 021000  The name or indicator CDOD is not defined.
*RNF7030 30    570 046400  The name or indicator CDOD is not defined.
*RNF7030 30    572 046600  The name or indicator CDOD is not defined.
*RNF7030 30    624 051800  The name or indicator COBJ is not defined.
*RNF7030 30    623 051700  The name or indicator CZBOZID is not defined.
*RNF7030 30    572 046600  The name or indicator D is not defined.
*RNF7030 30    572 046600  The name or indicator D.CDOD is not defined.
*RNF7030 30    624 051800  The name or indicator D.COBJ is not defined.
*RNF7030 30    623 051700  The name or indicator D.CZBOZID is not defined.
*RNF7030 30    316 021000  The name or indicator DTOBJ is not defined.
*RNF7030 30    189 008300  The name or indicator EXEC is not defined.
*RNF7030 30    570 046400  The name or indicator H is not defined.
*RNF7030 30    570 046400  The name or indicator H.CDOD is not defined.
*RNF7030 30    316 021000  The name or indicator OBJHLA.... is not defined.
*RNF7030 30    316 021000  The name or indicator OBJHLA.... is not defined.
*RNF7066 00     10 001000  Record-Format OBJWF6 not used for input or output.
*RNF7030 30    189 008300  The name or indicator SQL is not defined.
*RNF7030 30    329 022300  The name or indicator SQLSTATE is not defined.
*RNF7503 30    329 022300  Expression contains an operand that is not defined.
*RNF7503 30    466 036000  Expression contains an operand that is not defined.
*RNF7503 30    475 036900  Expression contains an operand that is not defined.
*RNF7503 30    526 042000  Expression contains an operand that is not defined.
*RNF7503 30    535 042900  Expression contains an operand that is not defined.
*RNF7503 30    582 047600  Expression contains an operand that is not defined.
*RNF7503 30    633 052700  Expression contains an operand that is not defined.
*RNF7503 30    744 063800  Expression contains an operand that is not defined.
*RNF7503 30    828 072200  Expression contains an operand that is not defined.
*RNF7503 30    945 083900  Expression contains an operand that is not defined.
*RNF7503 30   1013 090700  Expression contains an operand that is not defined.
*RNF7503 30   1084 097800  Expression contains an operand that is not defined.

 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *


                 O u t p u t   B u f f e r   P o s i t i o n s

Line   Start End   Field or Constant

Number Pos   Pos
  1104     1     6 CDOD
  1105     7    12 COBJ
  1106    13    22 DTOBJ
  1107    23    52 NAZDOD
  1109     1     1 *IN47
  1110     2     2 *IN48
  1111     4     4 *IN60
  1112     3     3 *IN80
  1113     5     9 SFKUR0
  1114    10    13 KUR0
  1115    14    23 DNES
  1118     1     6 COBJ
  1119     7    12 CDOD



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     30

  1120    13    17 CZBOZID
  1121    18    26 MNOBJ
  1122    27    56 NAZZBO
  1124     1     1 *IN27
  1125     2     2 *IN28
  1126     3     3 *IN81
  1127     4     8 SFKUR1
  1128     9    14 COBJ
  1129    15    24 DNES
  1132     1     5 CZBOZID
  1133     6    14 CENAJ
  1134    15    44 NAZZBO
  1136     1     1 *IN37
  1137     2     2 *IN38
  1138     3     7 SFKUR2
  1139     8    17 DNES
  1140    18    47 ZNAZZB
  1143     1     6 CDOD
  1144     7    36 NAZDOD
  1145    37    56 ADRDOD
  1147     1     1 *IN47
  1148     2     2 *IN48
  1149     3     7 SFKUR3
  1150     8    11 KUR3
  1151    12    21 DNES
  1152    22    51 ZNAZD
  1154     1     1 *IN06
  1155     3     3 *IN84
  1156     2     2 *IN85
  1157     4    13 DNES
  1158    14    19 COBJ
  1159    20    25 CDOD
  1160    26    55 NAZDOD
  1161    56    65 DTOBJ
  1163     3     3 *IN04
  1164     1     1 *IN82
  1165     2     2 *IN83
  1166     4     9 COBJ
  1167    10    19 DNES
  1168    20    25 CDOD
  1169    26    55 NAZDOD
  1170    56    65 DTOBJ
  1171    66    70 CZBOZID
  1172    71    79 MNOBJ

 * * * * *   E N D   O F   O U T P U T   B U F F E R   P O S I T I O N   *  * * * *



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     31

                          C r o s s   R e f e r e n c e

      File and Record References:

         File              Device             References (D=Defined)
           Record
         OBJW              WORKSTN                10D
           OBJWF0                                 10D     97     204     562
                                                1102
           OBJWS0                                 10D    100     228     263
                                                 586    1103
           OBJWC0                                 10D    107     205     563
                                                1108
           OBJWF1                                 10D    116     350     613
                                                1116
           OBJWS1                                 10D    119     380     408
                                                 418     637    1117
           OBJWC1                                 10D    127     351     614
                                                1123
           OBJWF2                                 10D    134     872     926
                                                1000    1048    1130
           OBJWS2                                 10D    137     911     947
                                                 974    1015    1044    1086
                                                1131
           OBJWC2                                 10D    143     873     927
                                                1001    1049    1135
           OBJWF3                                 10D    150     671     726
                                                1141
           OBJWS3                                 10D    153     707     746
                                                 809     830    1142
           OBJWC3                                 10D    159     672     727
                                                1146
           OBJWF4                                 10D    167     295     441
                                                1153
           OBJWF5                                 10D    178     503    1162
           OBJWF6                                 10D    186

      Global Field References:

         Field             Attributes         References (D=Defined M=Modified)
         *INLR             N(1)                  208M    297M    354M    444M
                                                 506M    677M    876M
         *IN03             N(1)                   98D    101M    108M    117M
                                                 120M    128M    135M    138M
                                                 144M    151M    154M    160M
                                                 168M    179M    187M    207
                                                 296     353     443     505
                                                 676     875
         *IN04             N(1)                  169M    180M    303     453
                                                 514    1163
         *IN05             N(1)                  129D    362
         *IN06             N(1)                  109M    130M    212     303
                                                 369    1154
         *IN12             N(1)                   99D    102M    110M    118M
                                                 121M    131M    136M    139M
                                                 145M    152M    155M    161M
                                                 170M    181M    188M    207
                                                 214     273     311     358



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     32

                                                 448     510     681     881
         *IN23             N(1)                  111D    132M    225     377
         *IN25             N(1)                  146D    162M    685     889
         *IN26             N(1)                  147D    163M    690     896
         *IN27             N(1)                  649M    651M   1124
         *IN28             N(1)                  612M    615M   1125
*RNF7031 *IN31             N(1)                  171D
         *IN32             N(1)                  172D    329
         *IN33             N(1)                  440M
         *IN37             N(1)                  957M    959M   1026M   1028M
                                                1096M   1098M   1136
         *IN38             N(1)                  925M    928M    999M   1002M
                                                1047M   1050M   1137
         *IN47             N(1)                  598M    600M    756M    758M
                                                 843M    845M   1109    1147
         *IN48             N(1)                  561M    564M    725M    728M
                                                1110    1148
         *IN60             N(1)                  112M   1111
         *IN80             N(1)                  113M    229M    231M    264M
                                                 266M   1112
         *IN81             N(1)                  382M    385M   1126
         *IN82             N(1)                  182M    536M    539M   1164
         *IN83             N(1)                  183M    527M    530M   1165
         *IN84             N(1)                  173M    328M    330M    465M
                                                 467M   1155
         *IN85             N(1)                  174M    476M    479M   1156
         ADRDOD            A(20)                  52D    158M   1145
         CDOD              A(6)                   50D     66     103M    123M
                                                 156M    176M    435M    704
                                                 708    1104    1119    1143
                                                1159    1168
*RNF7031 CDODCEN           A(6)                   43D
*RNF7031 CDODDET           A(6)                   36D
*RNF7031 CDODHLA           A(6)                   27D
         CDOD2             A(6)                   66D    704M    708
         CENAJ             P(9,2)                 45D    141M   1133
*RNF7031 CENYD             DS(46)                 39D
         COBJ              A(6)                   26D    104M    122M    175M
                                                1105    1118    1128    1158
                                                1166
*RNF7031 COBJDET           A(6)                   35D
         CZBOZID           A(5)                   44D     64     124M    140M
                                                 184M    498M    861     882M
                                                1120    1132    1171
*RNF7031 CZBOZIDET         A(5)                   37D
         CZBOZ2            A(5)                   64D    861M    882
         DNES              D(10*ISO-)             72D    195M    394M    545M
                                                1115    1129    1139    1151
                                                1157    1167
*RNF7031 DODAV             DS(56)                 47D
         DODAVZMENEN       N(1)                   74D    312     674M    710M
         DTOBJ             D(10*ISO-)             28D    105M    177M    313M
                                                 416M    482M    709M   1106
                                                1161    1170
*RNF7030 EXEC              **UNDEF**             189M    236M    239M    315M
                                                 325M    389M    395M    413M
                                                 461M    472M    483M    522M
                                                 533M    542M    546M    569M



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     33

                                                 576M    579M    589M    591M
                                                 619M    627M    630M    640M
                                                 642M    734M    741M    742M
                                                 747M    749M    812M    818M
                                                 821M    833M    836M    935M
                                                 942M    943M    948M    950M
                                                 979M   1006M   1009M   1017M
                                                1019M   1059M   1077M   1080M
                                                1087M   1089M
         IDX               P(4,0)                 69D    823M    828
         I0                I(10,0)                12      53D    566M    582
                                                 584M    596
         I1                I(10,0)                14      54D    616M    633
                                                 635M    647
         I2                I(10,0)                16      55D    930M    945
                                                 946M    955    1004M   1013
                                                1014M   1024    1039M   1052M
                                                1084    1085M   1094
         I3                I(10,0)                18      56D    730M    744
                                                 745M    754     789     790
                                                 809     823     828     829M
                                                 841     848
         KUR0              P(4,0)                115M    196M    246M    260M
                                                1114
         KUR3              P(4,0)                165M    664M    761M    775M
                                                 777M    805M    848M   1150
         MAXIMUM_SF        CONST                  78D    582     633
         MNOBJ             P(9,0)                 38D     65     125M    185M
                                                 406     412     499M    862
                                                 883M   1121    1172
         MNOBJ2            P(9,0)                 65D    406M    412     862M
                                                 883
         MNOZZMENENO       N(1)                   75D    312     405M    415M
         NAZDOD            A(30)                  51D    106M    157M    436M
                                                1107    1144    1160    1169
         NAZZBO            A(30)                  46D    126M    142M   1122
                                                1134
         NOVAHLAOBJ        BEGSR                 213     431D
         NOVYDETOBJ        BEGSR                 370     495D
*RNF7031 OBJDET            DS(22)                 29D
         OBJHLA            DS(22)                 22D    434M
         PAG2              I(10,0)                81D    945    1013    1044
                                                1084
         PAG3              I(10,0)                84D    744     774     775
                                                 789     790     795     796
                                                 805     823
         PGUP3             BEGSR                 686     769D
         PLNITSF0          BEGSR                 200     215     221     250
                                                 274     558D
         PLNITSF1          BEGSR                 346     363     371     397
                                                 420     609D
         PLNITSF2          BEGSR                 867     905     922D
         PLNITSF2D         BEGSR                 897    1037D
         PLNITSF2U         BEGSR                 890     969D
         PLNITSF3          BEGSR                 666     700     722D
         PLNITSF3D         BEGSR                 691     786D
         POCET0            I(10,0)                58D    259     596M    597
         POCET1            I(10,0)                59D    404     647M    648



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     34

         POCET2            I(10,0)                60D    904     955M    956
                                                1024M   1025    1094M   1095
         POCET3            I(10,0)                61D    699     754M    755
                                                 841M    842
         POSLEDNISTR       I(10,0)                87D    789M    791M    803
         SFKUR0            P(5,0)                114M    228     245     246
                                                 259     259     260     263
                                                1113
         SFKUR1            P(5,0)                133M    380    1127
         SFKUR2            P(5,0)                148M    904     904     911
                                                1138
         SFKUR3            P(5,0)                164M    699     699     707
                                                 774     795     796     805
                                                1149
         SOUCASNASTR       I(10,0)                88D    795M    797M    803
*RNF7030 SQLSTATE          **UNDEF**             329     466     475     526
                                                 535     582     633     744
                                                 828     945    1013    1084
         ZNAZD             A(30)                 166M    662M   1152
         ZNAZZB            A(30)                 149M    864M   1140
         ZPRCENY           BEGSR                 515     858D
         ZPRDETOBJ         BEGSR                 218     277     344D
         ZPRDODAV          BEGSR                 305     454     659D
         ZPRHLAOBJ         BEGSR                 219     272     291D

      Indicator References:

         Indicator                            References (D=Defined M=Modified)
         03                                       98M    101M    108M    117M
                                                 120M    128M    135M    138M
                                                 144M    151M    154M    160M
                                                 168M    179M    187M    207
                                                 296     353     443     505
                                                 676     875
         04                                      169M    180M    303     453
                                                 514    1163
         05                                      129M    362
         06                                      109M    130M    212     303
                                                 369    1154
         12                                       99M    102M    110M    118M
                                                 121M    131M    136M    139M
                                                 145M    152M    155M    161M
                                                 170M    181M    188M    207
                                                 214     273     311     358
                                                 448     510     681     881
         23                                      111M    132M    225     377
         25                                      146M    162M    685     889
         26                                      147M    163M    690     896
         27                                      649M    651M   1124
         28                                      612M    615M   1125
*RNF7031 31                                      171M
         32                                      172M    329
         33                                      440M
         37                                      957M    959M   1026M   1028M
                                                1096M   1098M   1136
         38                                      925M    928M    999M   1002M
                                                1047M   1050M   1137
         47                                      598M    600M    756M    758M



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     35

                                                 843M    845M   1109    1147
         48                                      561M    564M    725M    728M
                                                1110    1148
         60                                      112M   1111
         80                                      113M    229M    231M    264M
                                                 266M   1112
         81                                      382M    385M   1126
         82                                      182M    536M    539M   1164
         83                                      183M    527M    530M   1165
         84                                      173M    328M    330M    465M
                                                 467M   1155
         85                                      174M    476M    479M   1156
         LR                                      208M    297M    354M    444M
                                                 506M    677M    876M

       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     36

                      E x t e r n a l   R e f e r e n c e s

      Statically bound procedures:
         Procedure                            References
         No references in the source.

      Imported fields:
         Field             Attributes         Defined
         No references in the source.

      Exported fields:
         Field             Attributes         Defined
         No references in the source.

   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     37

                          M e s s a g e   S u m m a r y

 Msg id  Sv Number Message text
*RNF7031 00      9 The name or indicator is not referenced.
*RNF7066 00      1 Record-Format name of Externally-Described file is not used.
*RNF0622 20     13 A qualified name is not allowed in this context.
*RNF0623 20      2 The simple qualified name is not specified correctly.
*RNF5347 30     50 An assignment operator is expected with the EVAL operation.
*RNF7030 30     20 The name or indicator is not defined.
*RNF7503 30     12 Expression contains an operand that is not defined.

       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *



 5770WDS V7R3M0  160422 RN        IBM ILE RPG             QGPL/OBJ_SQL             PASSIST2   06/02/17 18:25:35        Page     38

                            F i n a l   S u m m a r y

  Message Totals:

    Information  (00) . . . . . . . :       10
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :       15
    Severe Error (30+)  . . . . . . :       82
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :      107


  Source Totals:

    Records . . . . . . . . . . . . :     1172
    Specifications  . . . . . . . . :      717
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :      258

         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Compilation stopped. Severity 30 errors found in program.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
